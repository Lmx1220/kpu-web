
/**
 * 由 admin 提供技术支持
 * Powered by admin
 * 代码仓库
 * Github https://github.com/Lmx1220/kpu-web
 */
    
import{d as B,u as D,b as H,q as N,s as T,v as L,x as b,y as S,l as W,z as r,A as E,B as R,c as M,e as s,j as o,n as v,f as t,C as k,D as h,G as _,w as C,h as y,i as F,F as K,H as O,o as l,T as j,I as q,K as G,J,_ as U}from"./index-dN0_CLwN.js";import Q from"./index-BoNTbIaA.js";import X from"./index-DarzpMHQ.js";import Y from"./index-CLDxSBhZ.js";import Z from"./index-qVPqJMko.js";import{_ as ee}from"./index.vue_vue_type_script_setup_true_lang-CAc2JuBw.js";import{_ as te}from"./index.vue_vue_type_script_setup_true_lang-qe5ydPPu.js";import ie from"./index-Dc0Q6cay.js";import oe from"./iframe-hKDW1Gkh.js";import ae from"./link-CddwsIuq.js";import se from"./index-DdExGMuO.js";import{_ as ne}from"./index.vue_vue_type_script_setup_true_lang-PTuXkq5m.js";import{u as me}from"./watermark-DArJoQV7.js";import{u as re}from"./useMainPage-BKouhFoG.js";import{_ as le}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index.vue_vue_type_script_setup_true_lang-B8i8bqCD.js";import"./logo-D-CqFC5K.js";import"./rightSide.vue_vue_type_script_setup_true_lang-Cph0_SFa.js";import"./HDropdownMenu.vue_vue_type_script_setup_true_lang-CF9YrDiU.js";import"./tools.vue_vue_type_script_setup_true_lang-Ww1sIX_N.js";import"./index-BOGIPMuj.js";import"./index-sMfx0CUh.js";import"./item.vue_vue_type_script_setup_true_lang-Aju5RHbM.js";import"./index.vue_vue_type_script_setup_true_lang-DhWbleDi.js";import"./HDropdown-yhENRk4o.js";import"./HTabList.vue_vue_type_script_setup_true_lang-DvS10X1x.js";import"./use-resolve-button-type-CRqplDCx.js";import"./index.vue_vue_type_script_setup_true_lang-ChUr4b11.js";import"./panel-c8N_8X8j.js";import"./sortable.esm-C0-Qcoum.js";import"./index.vue_vue_type_script_setup_true_lang-DdMoIQLY.js";import"./index-wUoxl4wk.js";import"./index-3T5QROsb.js";import"./index.vue_vue_type_script_setup_true_lang-CPlmdK8z.js";import"./HKbd-CqaQ9CS8.js";import"./index-C8lfUx5-.js";import"./HBadge.vue_vue_type_script_setup_true_lang-BI11vicn.js";import"./panel-kct5reSw.js";import"./notification-D0jk5tiB.js";import"./index-DodPSB2d.js";import"./index.vue_vue_type_script_setup_true_lang-ZhY13W0I.js";import"./sub.vue_vue_type_script_setup_true_lang-BHJL8UzR.js";import"./item-CByjM8_w.js";import"./HTooltip.vue_vue_type_script_setup_true_lang-PycJf7La.js";import"./index.vue_vue_type_script_setup_true_lang-BvahNv-Q.js";import"./sub.vue_vue_type_script_setup_true_lang-CUHNMwsZ.js";import"./item-CcrFQaUk.js";import"./index-D51RYoEw.js";import"./moreAction-BqsqqQzK.js";import"./useTabbar-Dmo26fjH.js";import"./index-x-ks22gS.js";import"./leftSide.vue_vue_type_script_setup_true_lang-0RQjL0cE.js";import"./HDialog.vue_vue_type_script_setup_true_lang-_qYYfBNE.js";import"./HInput.vue_vue_type_script_setup_true_lang-QBftK9dg.js";import"./HSelect.vue_vue_type_script_setup_true_lang-BVdgpf-m.js";import"./HCheckList.vue_vue_type_script_setup_true_lang-BpEbByNB.js";import"./HToggle.vue_vue_type_script_setup_true_lang-mJfOaH-0.js";const pe={class:"wrapper"},ue={class:"main"},de=B({name:"Layout",__name:"index",setup(ce){const p=D(),e=H(),x=N(),m=T();me();const g=re(),P=L(),z=b(()=>{let i=Number.parseInt(getComputedStyle(document.documentElement).getPropertyValue("--g-main-sidebar-width"));return(e.settings.menu.mode==="single"||["head","only-head","head-panel"].includes(e.settings.menu.mode)&&e.mode!=="mobile")&&(i=0),`${i}px`}),V=b(()=>{var a;let i=Number.parseInt(getComputedStyle(document.documentElement).getPropertyValue("--g-sub-sidebar-width"));return e.settings.menu.subMenuCollapse&&e.mode!=="mobile"&&(i=Number.parseInt(getComputedStyle(document.documentElement).getPropertyValue("--g-sub-sidebar-collapse-width"))),["only-side","only-head","side-panel","head-panel"].includes(e.settings.menu.mode)&&e.mode!=="mobile"&&(i=0),e.settings.menu.subMenuOnlyOneHide&&m.sidebarMenus.length===1&&(!m.sidebarMenus[0].children||(a=m.sidebarMenus[0])!=null&&a.children.every(u=>{var d;return((d=u.meta)==null?void 0:d.menu)===!1}))&&(i=0),`${i}px`}),w=b(()=>!!p.meta.iframe),f=b(()=>!!p.meta.link);S(()=>e.settings.menu.subMenuCollapse,i=>{e.mode==="mobile"&&(i?document.body.classList.remove("overflow-hidden"):document.body.classList.add("overflow-hidden"))}),S(()=>p.path,()=>{e.mode==="mobile"&&e.$patch(i=>{i.settings.menu.subMenuCollapse=!0})}),W(()=>{r("f5",i=>{e.settings.toolbar.pageReload&&(i.preventDefault(),g.reload())}),r("alt+`",i=>{e.settings.menu.enableHotkeys&&(i.preventDefault(),P.switchTo(m.actived+1<m.allMenus.length?m.actived+1:0))}),r("alt+up,alt+down",(i,a)=>{switch(i.preventDefault(),a.key){case"alt+up":g.maximize(!0);break;case"alt+down":g.maximize(!1);break}})}),E(()=>{r.unbind("f5"),r.unbind("alt+`"),r.unbind("alt+up,alt+down")});let n;function $(){n==null||n(),e.setHoverSidebar(!0)}function I(){n==null||n(),{stop:n}=O(()=>{e.setHoverSidebar(!1)},300)}return(i,a)=>{const u=U,d=R("RouterView");return l(),M("div",{class:"layout",style:k({"--g-main-sidebar-actual-width":t(z),"--g-sub-sidebar-actual-width":t(V)})},[s("div",{id:"app-main",class:v({"main-page-maximize":t(e).mainPageMaximizeStatus})},[o(Q),s("div",pe,[s("div",{class:v(["sidebar-container",{show:t(e).mode==="mobile"&&!t(e).settings.menu.subMenuCollapse}]),onMouseenter:$,onMouseleave:I},[o(X),o(Y)],34),s("div",{class:v(["sidebar-mask",{show:t(e).mode==="mobile"&&!t(e).settings.menu.subMenuCollapse}]),onClick:a[0]||(a[0]=c=>t(e).toggleSidebarCollapse())},null,2),s("div",{class:"main-container",style:k({"padding-bottom":t(p).meta.paddingBottom})},[o(Z),s("div",ue,[h(s("div",{class:"exit-main-page-maximize",onClick:a[1]||(a[1]=c=>t(e).setMainPageMaximize())},[o(u,{name:"i-ri:logout-box-line"})],512),[[_,t(e).mainPageMaximizeStatus]]),o(d,null,{default:C(({Component:c,route:A})=>[o(j,{name:t(e).settings.mainPage.enableTransition?t(e).settings.mainPage.transitionMode:"",mode:"out-in"},{default:C(()=>[(l(),y(G,{include:t(x).list},[h((l(),y(q(c),{key:A.fullPath})),[[_,!(t(w)||t(f))]])],1032,["include"]))]),_:2},1032,["name"])]),_:1}),h(o(oe,null,null,512),[[_,t(w)&&!t(f)]]),t(f)?(l(),y(ae,{key:0})):F("",!0)]),o(se)],4)])],2),o(ee),o(te),(l(),M(K,{key:0},[s("div",{class:"app-setting",onClick:a[2]||(a[2]=c=>t(J).emit("global-app-setting-toggle"))},[o(u,{name:"i-uiw:setting-o",class:"icon"})]),o(ie)],64)),o(ne)],4)}}}),vt=le(de,[["__scopeId","data-v-08c0b4ee"]]);export{vt as default};
