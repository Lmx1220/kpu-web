
/**
 * 由 admin 提供技术支持
 * Powered by admin
 * 代码仓库
 * Github https://github.com/Lmx1220/kpu-web
 */
    
import{d as C,r as _,bR as b,bS as w,c as F,f as c,C as K,v as $,o as T,b as k,y as B,aw as g,j as a,w as o,x as v,p as N,s as P,Q as y}from"./index-putfknEa.js";import{_ as R}from"./index.vue_vue_type_script_setup_true_lang-BYjOVmS1.js";import{_ as M}from"./index.vue_vue_type_script_setup_true_lang-CjtEiaWg.js";const O=C({name:"KCountTo",__name:"index",props:{startVal:{},endVal:{},autoplay:{type:Boolean,default:!0},duration:{default:2e3},transition:{default:"linear"},delay:{default:0},decimals:{default:0},separator:{default:","},prefix:{},suffix:{}},emits:["onStarted","onFinished"],setup(x,{expose:r,emit:i}){const t=x,p=i,u=_(!1),d=_(t.startVal),V=b(d.value,{duration:t.duration,transition:w[t.transition],delay:t.delay,disabled:u,onFinished:()=>p("onFinished"),onStarted:()=>p("onStarted")}),n=F(()=>{let e=c(V);if(e=Number(e).toFixed(t.decimals),t.separator){const[l,m]=e.split(".");e=l.replace(/\B(?=(\d{3})+(?!\d))/g,t.separator)+(m?`.${m}`:"")}return t.prefix&&(e=t.prefix+e),t.suffix&&(e=e+t.suffix),e});function f(){d.value=t.endVal}function s(){u.value=!0,d.value=t.startVal,g(()=>{u.value=!1})}return K([()=>t.startVal,()=>t.endVal],()=>{f()}),$(()=>{t.autoplay&&f()}),r({start:f,reset:s}),(e,l)=>(T(),k("span",null,B(c(n)),1))}}),S=C({__name:"countto",setup(x){const r=_(),i=_({startVal:0,endVal:2017,duration:4e3,decimals:0,separator:",",prefix:"¥ ",suffix:" 元"});function t(){r.value.start()}function p(){r.value.reset()}function u(){console.warn("开始")}function d(){console.warn("结束")}return(V,n)=>{const f=M,s=O,e=R,l=N;return T(),k("div",null,[a(f,{title:"计数到",description:"KCountTo"}),a(e,null,{default:o(()=>[a(s,{"start-val":0,"end-val":1e5})]),_:1}),a(e,{title:"持续10秒"},{default:o(()=>[a(s,{"start-val":0,"end-val":1e5,duration:1e4})]),_:1}),a(e,{title:"保留2位小数"},{default:o(()=>[a(s,{"start-val":0,"end-val":1e5,decimals:2})]),_:1}),a(e,{title:"带前缀和后缀"},{default:o(()=>[a(s,{"start-val":0,"end-val":1e5,prefix:"￥",suffix:"元"})]),_:1}),a(e,{title:"手动控制"},{default:o(()=>[a(s,{ref_key:"countToRef",ref:r,"start-val":c(i).startVal,"end-val":c(i).endVal,autoplay:!1,onOnStarted:u,onOnFinished:d},null,8,["start-val","end-val"]),a(l,{onClick:t},{default:o(()=>n[1]||(n[1]=[v(" 开始 ")])),_:1}),a(l,{onClick:p},{default:o(()=>n[2]||(n[2]=[v(" 重置 ")])),_:1}),a(l,{onClick:n[0]||(n[0]=m=>c(i).endVal+=1e4)},{default:o(()=>n[3]||(n[3]=[v(" 增加10000 ")])),_:1})]),_:1})])}}});typeof y=="function"&&y(S);const E=P(S,[["__scopeId","data-v-19e2e116"]]);export{E as default};
