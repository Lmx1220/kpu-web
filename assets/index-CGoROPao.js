
/**
 * 由 admin 提供技术支持
 * Powered by admin
 * 代码仓库
 * Github https://github.com/Lmx1220/kpu-web
 */
    
import{d as x,k as $,u as z,A,c as C,r as B,C as H,f as e,o,b as m,h as p,J as b,j as a,n as u,w as d,aV as j,F as N,m as O,H as h,I as y,i as w,aU as D,_ as F,p as I,s as K}from"./index-putfknEa.js";import{u as f}from"./index-DQXu1pRM.js";import{_ as P}from"./index.vue_vue_type_script_setup_true_lang-BzfOXg00.js";import{_ as U}from"./index.vue_vue_type_script_setup_true_lang-CWWZK4--.js";import"./index.vue_vue_type_script_setup_true_lang-B0Xuimgy.js";import"./index.vue_vue_type_script_setup_true_lang-C2ukESE2.js";import"./index.vue_vue_type_script_setup_true_lang-BjneWBqv.js";import"./index-DaouMrR2.js";import"./vee-validate-zod-DFzDRMRC.js";import"./index-GW34aOAv.js";import"./logo-D-CqFC5K.js";import"./item-BttuOdLs.js";import"./index.vue_vue_type_script_setup_true_lang-Brcmagnf.js";import"./sub.vue_vue_type_script_setup_true_lang-DGWeGYXx.js";const V=x({name:"SubSidebar",__name:"index",setup(q){const g=$(),s=z(),n=A(),M=C(()=>s.mode==="mobile"||["side","head","single"].includes(s.settings.menu.mode)&&n.sidebarMenus.length!==0&&!n.sidebarMenus.every(r=>{var t;return((t=r.meta)==null?void 0:t.menu)===!1})),i=C(()=>s.mode==="pc"?!!(s.settings.menu.subMenuCollapse&&(!s.isHoverSidebar||s.isHoverSidebar&&!s.settings.menu.subMenuAutoCollapse)):s.settings.menu.subMenuCollapse),l=B("");return H(()=>n.actived,(r,t)=>{s.mode==="mobile"||s.settings.menu.mode==="side"?r>t?l.value="sub-sidebar-y-start":l.value="sub-sidebar-y-end":s.settings.menu.mode==="head"&&(r>t?l.value="sub-sidebar-x-start":l.value="sub-sidebar-x-end")}),(r,t)=>{const k=D,_=F,v=I;return e(M)?(o(),m("div",{key:0,class:u(["sub-sidebar-container",{"is-collapse":e(i),"shadow-side":e(s).isHoverSidebar&&e(s).settings.menu.subMenuAutoCollapse&&e(s).settings.menu.subMenuCollapse}])},[(o(),p(b(e(f)("sub-sidebar-top")))),a(P,{"show-logo":e(s).settings.menu.mode==="single",class:u(["sidebar-logo",{"sidebar-logo-bg":e(s).settings.menu.mode==="single"}])},null,8,["show-logo","class"]),(o(),p(b(e(f)("sub-sidebar-after-logo")))),a(k,{scrollbar:!1,mask:"","gradient-color":"var(--g-sub-sidebar-bg)",class:"flex-1"},{default:d(()=>[a(j,{name:e(l)},{default:d(()=>[(o(!0),m(N,null,O(e(n).allMenus,(c,S)=>h((o(),m("div",{key:S},[a(U,{menu:c.children,value:e(g).meta.activeMenu||e(g).path,"default-openeds":e(n).defaultOpenedPaths,"always-openeds":e(n).alwaysOpenedPaths,accordion:e(s).settings.menu.subMenuUniqueOpened,collapse:e(i),direction:e(s).settings.app.direction,class:u(["menu",{"-mt-2":!(e(i)||["head","single"].includes(e(s).settings.menu.mode))}])},null,8,["menu","value","default-openeds","always-openeds","accordion","collapse","direction","class"])],512)),[[y,S===e(n).actived]])),128))]),_:1},8,["name"])]),_:1}),e(s).mode==="pc"&&e(s).settings.menu.enableSubMenuCollapseButton?(o(),m("div",{key:0,class:u(["relative flex items-center px-4 py-3",{"justify-center":e(i),"justify-between":!e(i)}])},[h(a(v,{variant:"secondary",size:"icon",class:"h-8 w-8",onClick:t[0]||(t[0]=c=>e(s).toggleSidebarAutoCollapse())},{default:d(()=>[a(_,{name:e(s).settings.menu.subMenuAutoCollapse?"i-lucide:pin-off":"i-lucide:pin",size:16},null,8,["name"])]),_:1},512),[[y,!e(i)]]),a(v,{variant:"secondary",size:"icon",class:u(["h-8 w-8 transition",{"-rotate-z-180":e(s).settings.menu.subMenuCollapse}]),onClick:t[1]||(t[1]=c=>e(s).toggleSidebarCollapse())},{default:d(()=>[a(_,{name:"toolbar-collapse",size:16})]),_:1},8,["class"])],2)):w("",!0),(o(),p(b(e(f)("sub-sidebar-bottom"))))],2)):w("",!0)}}}),ae=K(V,[["__scopeId","data-v-c0709f36"]]);export{ae as default};
