
/**
 * 由 admin 提供技术支持
 * Powered by admin
 * 代码仓库
 * Github https://github.com/Lmx1220/kpu-web
 */
    
import{be as o,bf as u,d as b,r as g,B as P,y as D,e as p,b4 as S,k as I,j as s,o as O,f as V,h as c,w as h,z as w}from"./index-De2lUAjd.js";const a="standardModuleExample",l="mock",n={Page:{url:`${l}/${a}/page`,method:o.POST},Save:{url:`${l}/${a}`,method:o.POST},Update:{url:`${l}/${a}`,method:o.PUT},Delete:{url:`${l}/${a}`,method:o.DELETE},Query:{url:`${l}/${a}/query`,method:o.POST},Detail:{url:`${l}/${a}/detail`,method:o.GET}};function M(e){return u.request({...n.Page,params:e})}function U(e){return u.request({...n.Save,params:e})}function C(e){return u.request({...n.Update,params:e})}function j(e){return u.request({...n.Delete,params:e})}function B(e){return u.request({...n.Query,params:e})}function L(e){return u.request({...n.Detail,params:{id:e}})}const _={page:M,save:U,update:C,remove:j,query:B,detail:L};var i=(e=>(e.ADD="add",e.COPY="copy",e.DELETE="delete",e.EDIT="edit",e.VIEW="view",e))(i||{});const W=b({__name:"index",props:{id:{default:""},type:{default:i.VIEW}},setup(e,{expose:y}){const f=e,t=g({loading:!1,form:{id:f.id,title:""},rules:{title:[{required:!0,message:"请输入",trigger:"blur"}]}}),v=g();P(()=>{t.value.form.id!==""&&E()});function E(){t.value.loading=!0,_.detail(t.value.form.id).then(r=>{t.value.loading=!1,t.value.form=r})}return y({submit(r){var d;(d=v.value)==null||d.validate(m=>{m&&(f.type===i.ADD?_.save(t.value.form).then(()=>{D.success({message:"新增成功",center:!0}),r&&r()}):f.type===i.EDIT?_.update(t.value.form).then(()=>{D.success({message:"编辑成功",center:!0}),r&&r()}):r&&r(!1))})}}),(r,d)=>{const m=p("el-input"),$=p("el-form-item"),q=p("el-form"),x=S("loading");return I((O(),V("div",null,[c(q,{ref_key:"form",ref:v,model:s(t).form,rules:s(t).rules,"label-width":"120px","label-suffix":"："},{default:h(()=>[c($,{label:"标题",prop:"title"},{default:h(()=>[c(m,{modelValue:s(t).form.title,"onUpdate:modelValue":d[0]||(d[0]=T=>s(t).form.title=T),disabled:r.type===s(i).VIEW,placeholder:"请输入"},null,8,["modelValue","disabled"])]),_:1})]),_:1},8,["model","rules"])])),[[x,s(t).loading]])}}}),z=w(W,[["__scopeId","data-v-83d7b2c2"]]),R=Object.freeze(Object.defineProperty({__proto__:null,default:z},Symbol.toStringTag,{value:"Module"}));export{i as A,z as D,_ as c,R as i};
