
/**
 * 由 admin 提供技术支持
 * Powered by admin
 * 代码仓库
 * Github https://github.com/Lmx1220/kpu-web
 */
    
import{b9 as o,ba as u,d as T,r as g,q as b,P as D,G as p,W as I,I as S,f as a,o as O,c as V,j as c,w as h,l as w}from"./index-D8CVJ9uq.js";const l="standardModuleExample",s="mock",n={Page:{url:`${s}/${l}/page`,method:o.POST},Save:{url:`${s}/${l}`,method:o.POST},Update:{url:`${s}/${l}`,method:o.PUT},Delete:{url:`${s}/${l}`,method:o.DELETE},Query:{url:`${s}/${l}/query`,method:o.POST},Detail:{url:`${s}/${l}/detail`,method:o.GET}};function M(e){return u.request({...n.Page,params:e})}function U(e){return u.request({...n.Save,params:e})}function C(e){return u.request({...n.Update,params:e})}function W(e){return u.request({...n.Delete,params:e})}function j(e){return u.request({...n.Query,params:e})}function L(e){return u.request({...n.Detail,params:{id:e}})}const _={page:M,save:U,update:C,remove:W,query:j,detail:L};var i=(e=>(e.ADD="add",e.COPY="copy",e.DELETE="delete",e.EDIT="edit",e.VIEW="view",e))(i||{});const B=T({__name:"index",props:{id:{default:""},type:{default:i.VIEW}},setup(e,{expose:q}){const f=e,t=g({loading:!1,form:{id:f.id,title:""},rules:{title:[{required:!0,message:"请输入",trigger:"blur"}]}}),v=g();b(()=>{t.value.form.id!==""&&y()});function y(){t.value.loading=!0,_.detail(t.value.form.id).then(r=>{t.value.loading=!1,t.value.form=r})}return q({submit(r){var d;(d=v.value)==null||d.validate(m=>{m&&(f.type===i.ADD?_.save(t.value.form).then(()=>{D.success({message:"新增成功",center:!0}),r&&r()}):f.type===i.EDIT?_.update(t.value.form).then(()=>{D.success({message:"编辑成功",center:!0}),r&&r()}):r&&r(!1))})}}),(r,d)=>{const m=p("el-input"),E=p("el-form-item"),$=p("el-form"),x=I("loading");return S((O(),V("div",null,[c($,{ref_key:"form",ref:v,model:a(t).form,rules:a(t).rules,"label-width":"120px","label-suffix":"："},{default:h(()=>[c(E,{label:"标题",prop:"title"},{default:h(()=>[c(m,{modelValue:a(t).form.title,"onUpdate:modelValue":d[0]||(d[0]=P=>a(t).form.title=P),disabled:r.type===a(i).VIEW,placeholder:"请输入"},null,8,["modelValue","disabled"])]),_:1})]),_:1},8,["model","rules"])])),[[x,a(t).loading]])}}}),G=w(B,[["__scopeId","data-v-83d7b2c2"]]),R=Object.freeze(Object.defineProperty({__proto__:null,default:G},Symbol.toStringTag,{value:"Module"}));export{i as A,G as D,_ as c,R as i};
