
/**
 * 由 admin 提供技术支持
 * Powered by admin
 * 代码仓库
 * Github https://github.com/Lmx1220/kpu-web
 */
    
import{bi as o,bj as u,d as P,r as g,m as I,N as D,I as p,b9 as V,D as b,b as s,o as S,c as w,h as c,w as h}from"./index-DSYfRqq8.js";const l="standardModuleExample",a="mock",n={Page:{url:`${a}/${l}/page`,method:o.POST},Save:{url:`${a}/${l}`,method:o.POST},Update:{url:`${a}/${l}`,method:o.PUT},Delete:{url:`${a}/${l}`,method:o.DELETE},Query:{url:`${a}/${l}/query`,method:o.POST},Detail:{url:`${a}/${l}/detail`,method:o.GET}};function O(e){return u.request({...n.Page,params:e})}function U(e){return u.request({...n.Save,params:e})}function C(e){return u.request({...n.Update,params:e})}function M(e){return u.request({...n.Delete,params:e})}function L(e){return u.request({...n.Query,params:e})}function W(e){return u.request({...n.Detail,params:{id:e}})}const v={page:O,save:U,update:C,remove:M,query:L,detail:W};var d=(e=>(e.ADD="add",e.COPY="copy",e.DELETE="delete",e.EDIT="edit",e.VIEW="view",e))(d||{});const N=P({__name:"index",props:{id:{default:""},type:{default:d.VIEW}},setup(e,{expose:E}){const f=e,t=g({loading:!1,form:{id:f.id,title:""},rules:{title:[{required:!0,message:"请输入",trigger:"blur"}]}}),_=g();I(()=>{t.value.form.id!==""&&$()});function $(){t.value.loading=!0,v.detail(t.value.form.id).then(r=>{t.value.loading=!1,t.value.form=r})}return E({submit(r){var i;(i=_.value)==null||i.validate(m=>{m&&(f.type===d.ADD?v.save(t.value.form).then(()=>{D.success({message:"新增成功",center:!0}),r&&r()}):f.type===d.EDIT?v.update(t.value.form).then(()=>{D.success({message:"编辑成功",center:!0}),r&&r()}):r&&r(!1))})}}),(r,i)=>{const m=p("el-input"),q=p("el-form-item"),y=p("el-form"),T=V("loading");return b((S(),w("div",null,[c(y,{ref_key:"form",ref:_,model:s(t).form,rules:s(t).rules,"label-width":"120px","label-suffix":"："},{default:h(()=>[c(q,{label:"标题",prop:"title"},{default:h(()=>[c(m,{modelValue:s(t).form.title,"onUpdate:modelValue":i[0]||(i[0]=x=>s(t).form.title=x),disabled:r.type===s(d).VIEW,placeholder:"请输入"},null,8,["modelValue","disabled"])]),_:1})]),_:1},8,["model","rules"])])),[[T,s(t).loading]])}}});export{d as A,N as _,v as c};
