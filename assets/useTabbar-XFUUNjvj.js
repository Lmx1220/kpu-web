
/**
 * 由 admin 提供技术支持
 * Powered by admin
 * 代码仓库
 * Github https://github.com/Lmx1220/kpu-web
 */
    
import{u as T,b1 as R,j as k,k as C,ay as u}from"./bootstrap-CKvMAU9X.js";function w(){const a=k(),d=C(),h=T(),n=R();function o(){return h.settings.tabbar.mergeTabsBy==="activeMenu"?a.meta.activeMenu??a.fullPath:a.fullPath}function x(e){const t=n.list.findIndex(i=>i.tabId===o());n.$patch({leaveIndex:t}),d.push(e)}function I(e){const t=o();d.go(e),n.remove(t)}function c(e){const t=o();d.push(e).then(()=>{n.remove(t)})}function b(e=o()){if(r(e,!1)){const t=o();if(e===t){const i=n.list.findIndex(l=>l.tabId===e);i<n.list.length-1?c(n.list[i+1].fullPath):c(n.list[i-1].fullPath)}else n.remove(e)}}function g(e=o()){const t=o();if(e!==t){const i=n.list.findIndex(l=>l.tabId===e);d.push(n.list[i].fullPath)}n.removeOtherSide(e)}function v(e=o()){const t=o();if(e!==t){const i=n.list.findIndex(s=>s.tabId===e);n.list.findIndex(s=>s.tabId===t)<i&&d.push(n.list[i].fullPath)}n.removeLeftSide(e)}function S(e=o()){const t=o();if(e!==t){const i=n.list.findIndex(s=>s.tabId===e);n.list.findIndex(s=>s.tabId===t)>i&&d.push(n.list[i].fullPath)}n.removeRightSide(e)}function r(e=o(),t=!0){let i=!0;return n.list.findIndex(s=>s.tabId===e)<0?(i=!1,!t&&u.warning("关闭的标签页不存在",{position:"top-center"})):n.list.length<=1&&(i=!1,!t&&u.warning("当前只有一个标签页，不可关闭",{position:"top-center"})),i}function p(e=o()){return n.list.some(t=>!t.isPermanent&&!t.isPin&&t.tabId!==e)}function P(e=o()){var i;let t=!0;if(e===((i=n.list[0])==null?void 0:i.tabId))t=!1;else{const l=n.list.findIndex(s=>s.tabId===e);t=n.list.some((s,f)=>f<l&&!s.isPermanent&&!s.isPin&&s.tabId!==e)}return t}function m(e=o()){var i;let t=!0;if(e===((i=n.list.at(-1))==null?void 0:i.tabId))t=!1;else{const l=n.list.findIndex(s=>s.tabId===e);t=n.list.some((s,f)=>f>=l&&!s.isPermanent&&!s.isPin&&s.tabId!==e)}return t}return{getId:o,open:x,go:I,close:c,closeById:b,closeOtherSide:g,closeLeftSide:v,closeRightSide:S,checkClose:r,checkCloseOtherSide:p,checkCloseLeftSide:P,checkCloseRightSide:m}}export{w as u};
