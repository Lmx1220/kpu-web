
/**
 * 由 admin 提供技术支持
 * Powered by admin
 * 代码仓库
 * Github https://github.com/Lmx1220/kpu-web
 */
    
import{aT as _,d as L,u as U,b as F,v as O,x as k,y as B,f as h,o as v,h as D,w as T,j as q,c as G,U as V,q as W,t as H,F as z,aM as J,n as K,i as Q,k as X}from"./index-BSkZKgnl.js";import Y from"./index-yRb25Ywr.js";import{_ as Z}from"./item.vue_vue_type_script_setup_true_lang-BYujX_zu.js";var m={},I=_&&_.__classPrivateFieldGet||function(n,t,e,s){if(e==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?n!==t||!s:!t.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?s:e==="a"?s.call(n):s?s.value:t.get(n)},A=_&&_.__classPrivateFieldSet||function(n,t,e,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?n!==t||!r:!t.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(n,e):r?r.value=e:t.set(n,e),e},y;Object.defineProperty(m,"__esModule",{value:!0});m.TokenData=void 0;m.parse=S;var ee=m.compile=ae;m.match=ie;m.pathToRegexp=N;m.stringify=le;const E="/",P=n=>n,M=/^[$_\p{ID_Start}]$/u,C=/^[$\u200c\u200d\p{ID_Continue}]$/u,x="https://git.new/pathToRegexpError",te={"{":"{","}":"}","(":"(",")":")","[":"[","]":"]","+":"+","?":"?","!":"!"};function ne(n){return n.replace(/[{}()\[\]+?!:*]/g,"\\$&")}function g(n){return n.replace(/[.+*?^${}()[\]|/\\]/g,"\\$&")}function*re(n){const t=[...n];let e=0;function s(){let r="";if(M.test(t[++e]))for(r+=t[e];C.test(t[++e]);)r+=t[e];else if(t[e]==='"'){let a=e;for(;e<t.length;){if(t[++e]==='"'){e++,a=0;break}t[e]==="\\"?r+=t[++e]:r+=t[e]}if(a)throw new TypeError(`Unterminated quote at ${a}: ${x}`)}if(!r)throw new TypeError(`Missing parameter name at ${e}: ${x}`);return r}for(;e<t.length;){const r=t[e],a=te[r];if(a)yield{type:a,index:e++,value:r};else if(r==="\\")yield{type:"ESCAPED",index:e++,value:t[e++]};else if(r===":"){const i=s();yield{type:"PARAM",index:e,value:i}}else if(r==="*"){const i=s();yield{type:"WILDCARD",index:e,value:i}}else yield{type:"CHAR",index:e,value:t[e++]}}return{type:"END",index:e,value:""}}class se{constructor(t){this.tokens=t,y.set(this,void 0)}peek(){if(!I(this,y,"f")){const t=this.tokens.next();A(this,y,t.value,"f")}return I(this,y,"f")}tryConsume(t){const e=this.peek();if(e.type===t)return A(this,y,void 0,"f"),e.value}consume(t){const e=this.tryConsume(t);if(e!==void 0)return e;const{type:s,index:r}=this.peek();throw new TypeError(`Unexpected ${s} at ${r}, expected ${t}: ${x}`)}text(){let t="",e;for(;e=this.tryConsume("CHAR")||this.tryConsume("ESCAPED");)t+=e;return t}}y=new WeakMap;class ${constructor(t){this.tokens=t}}m.TokenData=$;function S(n,t={}){const{encodePath:e=P}=t,s=new se(re(n));function r(i){const o=[];for(;;){const c=s.text();c&&o.push({type:"text",value:e(c)});const u=s.tryConsume("PARAM");if(u){o.push({type:"param",name:u});continue}const l=s.tryConsume("WILDCARD");if(l){o.push({type:"wildcard",name:l});continue}if(s.tryConsume("{")){o.push({type:"group",tokens:r("}")});continue}return s.consume(i),o}}const a=r("END");return new $(a)}function ae(n,t={}){const{encode:e=encodeURIComponent,delimiter:s=E}=t,r=n instanceof $?n:S(n,t),a=R(r.tokens,s,e);return function(o={}){const[c,...u]=a(o);if(u.length)throw new TypeError(`Missing parameters: ${u.join(", ")}`);return c}}function R(n,t,e){const s=n.map(r=>oe(r,t,e));return r=>{const a=[""];for(const i of s){const[o,...c]=i(r);a[0]+=o,a.push(...c)}return a}}function oe(n,t,e){if(n.type==="text")return()=>[n.value];if(n.type==="group"){const r=R(n.tokens,t,e);return a=>{const[i,...o]=r(a);return o.length?[""]:[i]}}const s=e||P;return n.type==="wildcard"&&e!==!1?r=>{const a=r[n.name];if(a==null)return["",n.name];if(!Array.isArray(a)||a.length===0)throw new TypeError(`Expected "${n.name}" to be a non-empty array`);return[a.map((i,o)=>{if(typeof i!="string")throw new TypeError(`Expected "${n.name}/${o}" to be a string`);return s(i)}).join(t)]}:r=>{const a=r[n.name];if(a==null)return["",n.name];if(typeof a!="string")throw new TypeError(`Expected "${n.name}" to be a string`);return[s(a)]}}function ie(n,t={}){const{decode:e=decodeURIComponent,delimiter:s=E}=t,{regexp:r,keys:a}=N(n,t),i=a.map(o=>e===!1?P:o.type==="param"?e:c=>c.split(s).map(e));return function(c){const u=r.exec(c);if(!u)return!1;const l=u[0],p=Object.create(null);for(let f=1;f<u.length;f++){if(u[f]===void 0)continue;const d=a[f-1],b=i[f-1];p[d.name]=b(u[f])}return{path:l,params:p}}}function N(n,t={}){const{delimiter:e=E,end:s=!0,sensitive:r=!1,trailing:a=!0}=t,i=[],o=[],c=r?"s":"is",l=(Array.isArray(n)?n:[n]).map(d=>d instanceof $?d:S(d,t));for(const{tokens:d}of l)for(const b of w(d,0,[])){const j=ue(b,e,i);o.push(j)}let p=`^(?:${o.join("|")})`;return a&&(p+=`(?:${g(e)}$)?`),p+=s?"$":`(?=${g(e)}|$)`,{regexp:new RegExp(p,c),keys:i}}function*w(n,t,e){if(t===n.length)return yield e;const s=n[t];if(s.type==="group"){const r=e.slice();for(const a of w(s.tokens,0,r))yield*w(n,t+1,a)}else e.push(s);yield*w(n,t+1,e)}function ue(n,t,e){let s="",r="",a=!0;for(let i=0;i<n.length;i++){const o=n[i];if(o.type==="text"){s+=g(o.value),r=o.value,a||(a=o.value.includes(t));continue}if(o.type==="param"||o.type==="wildcard"){if(!a&&!r)throw new TypeError(`Missing text after "${o.name}": ${x}`);o.type==="param"?s+=`(${ce(t,a?"":r)}+)`:s+="(.+)",e.push(o),r="",a=!1;continue}}return s}function ce(n,t){const e=[n,t].filter(Boolean);return e.every(r=>r.length===1)?`[^${g(e.join(""))}]`:`(?:(?!${e.map(g).join("|")}).)`}function le(n){return n.tokens.map(function t(e,s,r){if(e.type==="text")return ne(e.value);if(e.type==="group")return`{${e.tokens.map(t).join("")}}`;const i=pe(e.name)&&fe(r[s+1])?e.name:JSON.stringify(e.name);if(e.type==="param")return`:${i}`;if(e.type==="wildcard")return`*${i}`;throw new TypeError(`Unexpected token: ${e}`)}).join("")}function pe(n){const[t,...e]=n;return M.test(t)?e.every(s=>C.test(s)):!1}function fe(n){return(n==null?void 0:n.type)!=="text"?!0:!C.test(n.value[0])}const me=L({name:"Breadcrumb",__name:"index",setup(n){const t=U(),e=F(),s=O(),{generateI18nTitle:r}=k(),a=B(()=>{var c,u;const o=[];if(e.settings.home.enable&&o.push({path:e.settings.home.fullPath,title:r(e.settings.home.title)}),t.fullPath!==e.settings.home.fullPath&&e.settings.breadcrumb.enableMainMenu&&!["single"].includes(e.settings.menu.mode)){const l=s.allMenus.findIndex(p=>p.children.some(f=>t.fullPath.indexOf(`${f.path}/`)===0||t.fullPath===f.path));(c=s.allMenus[l])!=null&&c.meta&&o.push({path:"",title:r((u=s.allMenus[l].meta)==null?void 0:u.title)})}if(t.meta.breadcrumbNeste){t.meta.breadcrumbNeste.forEach(p=>{p.hide===!1&&o.push({path:p.path,title:r(p.title)})});const l=e.customTitleList.find(p=>p.fullPath===t.fullPath);l&&(o[o.length-1].title=l.title)}return o});function i(o){return ee(o)(t.params)}return(o,c)=>h(e).mode==="pc"&&h(e).settings.app.routeBaseOn!=="filesystem"?(v(),D(Y,{key:0,class:K(["breadcrumb whitespace-nowrap px-2",{[`breadcrumb-${h(e).settings.breadcrumb.style}`]:h(e).settings.breadcrumb.style!==""}])},{default:T(()=>[q(J,{name:"breadcrumb"},{default:T(()=>[(v(!0),G(z,null,V(h(a),(u,l)=>(v(),D(Z,{key:`${l}_${u.path}_${u.title}`,to:l<h(a).length-1&&u.path!==""?i(u.path):""},{default:T(()=>[W(H(u.title),1)]),_:2},1032,["to"]))),128))]),_:1})]),_:1},8,["class"])):Q("",!0)}}),ge=X(me,[["__scopeId","data-v-c97351fa"]]);export{ge as default};
