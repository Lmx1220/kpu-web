
/**
 * 由 admin 提供技术支持
 * Powered by admin
 * 代码仓库
 * Github https://github.com/Lmx1220/kpu-web
 */
    
import{d as x,aD as D,B as T,r as A,c as r,L as O,o as n,b as m,j as q,w as f,f as t,h as d,e as R,n as s,i as l,y as H,q as J,Z as L,bu as W,J as Z,bv as F,_ as G,aI as Q,s as U}from"./index-putfknEa.js";import{_ as X}from"./index.vue_vue_type_script_setup_true_lang-Brcmagnf.js";const Y=Symbol("rootMenu"),_=x({__name:"item",props:{uniqueKey:{},item:{},level:{default:0},subMenu:{type:Boolean,default:!1},expand:{type:Boolean,default:!1},alwaysExpand:{type:Boolean,default:!1}},setup(N,{expose:j}){const o=N,a=D(Y),{generateI18nTitle:u}=T(),c=A(),b=r(()=>o.subMenu?a.subMenus[o.uniqueKey.at(-1)].active:a.activeIndex===o.uniqueKey.at(-1)),v=r(()=>b.value&&(!o.subMenu||a.isMenuPopup)),y=r(()=>{var p,i;let e;return(p=o.item.meta)!=null&&p.icon&&(e=o.item.meta.icon),b.value&&(i=o.item.meta)!=null&&i.activeIcon&&(e=o.item.meta.activeIcon),e}),K=r(()=>a.isMenuPopup?"":`padding-inline-start: ${20*(o.level??0)}px`);return j({ref:c}),(e,p)=>{var g,M;const i=G,S=X,z=Q,V=O("router-link");return n(),m("div",{ref_key:"itemRef",ref:c,class:s(["menu-item relative transition-all",{active:t(v),"py-1 px-2":t(a).isMenuPopup&&t(a).props.mode==="vertical"||t(a).isMenuPopup&&e.level!==0&&t(a).props.mode==="horizontal"||!t(a).isMenuPopup,"px-1 py-2":t(a).isMenuPopup&&e.level===0&&t(a).props.mode==="horizontal"}])},[q(V,{custom:"",to:(e.uniqueKey.at(-1)??"")+((g=e.item.meta)!=null&&g.query?`?${t(F).stringify((M=e.item.meta)==null?void 0:M.query)}`:"")},{default:f(({href:E,navigate:$})=>{var h;return[q(z,{disabled:!t(a).isMenuPopup||e.level!==0||e.subMenu,text:t(u)((h=e.item.meta)==null?void 0:h.title),side:t(a).props.mode==="vertical"?"right":"bottom",class:"h-full w-full"},{default:f(()=>{var P,w,k,C;return[(n(),d(Z(e.subMenu?"div":"a"),L({...!e.subMenu&&{href:(P=e.item.meta)!=null&&P.link?e.item.meta.link:E,target:(w=e.item.meta)!=null&&w.newWindow||(k=e.item.meta)!=null&&k.link?"_blank":"_self",class:"no-underline"}},{class:["group menu-item-container relative h-full w-full flex items-center justify-between gap-1 rounded-lg px-4 py-3",{...t(a).isMenuPopup||!e.alwaysExpand?{"cursor-pointer text-[var(--g-sub-sidebar-menu-color)] transition-all hover-bg-[var(--g-sub-sidebar-menu-hover-bg)] hover-text-[var(--g-sub-sidebar-menu-hover-color)]":!0,"text-[var(--g-sub-sidebar-menu-active-color)]! bg-[var(--g-sub-sidebar-menu-active-bg)]!":t(v),"px-3!":t(a).isMenuPopup&&e.level===0,"py-3!":t(a).isMenuPopup&&e.level!==0}:{"py-2! opacity-50 font-bold":!0}}],title:t(u)((C=e.item.meta)==null?void 0:C.title)},W({...!e.subMenu&&{click:$}})),{default:f(()=>{var I,B;return[R("div",{class:s(["inline-flex flex-1 items-center justify-center gap-[12px]",{"flex-col":t(a).isMenuPopup&&e.level===0&&t(a).props.mode==="vertical","gap-1!":t(a).isMenuPopup&&e.level===0&&t(a).props.showCollapseName,"w-full":t(a).isMenuPopup&&e.level===0&&t(a).props.showCollapseName&&t(a).props.mode==="vertical"}]),style:J(t(K))},[t(y)?(n(),d(i,{key:0,name:t(y),size:18,class:s(["menu-item-container-icon",{"transition-transform group-hover-scale-120":t(a).isMenuPopup||!e.alwaysExpand}])},null,8,["name","class"])):l("",!0),t(a).isMenuPopup&&e.level===0&&!t(a).props.showCollapseName?l("",!0):(n(),m("span",{key:1,class:s(["w-0 flex-1 truncate text-sm transition-height transition-opacity transition-width",{"opacity-0 w-0 h-0":t(a).isMenuPopup&&e.level===0&&!t(a).props.showCollapseName,"w-full text-center":t(a).isMenuPopup&&e.level===0&&t(a).props.showCollapseName}])},H(t(u)((I=e.item.meta)==null?void 0:I.title)),3)),(B=e.item.meta)!=null&&B.badge&&!(t(a).isMenuPopup&&e.level===0)?(n(),d(S,{key:2,value:typeof e.item.meta.badge=="function"?e.item.meta.badge():e.item.meta.badge,variant:typeof e.item.meta.badgeVariant=="function"?e.item.meta.badgeVariant():e.item.meta.badgeVariant,class:s(["badge",{hidden:t(a).isMenuPopup&&e.level===0}])},null,8,["value","variant","class"])):l("",!0)],6),e.subMenu&&(!t(a).isMenuPopup||e.level!==0)&&(t(a).isMenuPopup||!e.alwaysExpand)?(n(),m("i",{key:0,class:s(["relative ms-1 w-[10px] after:absolute before:absolute after:h-[1.5px] after:w-[6px] before:h-[1.5px] before:w-[6px] after:bg-current before:bg-current after:transition-transform-200 before:transition-transform-200 after:content-empty before:content-empty after:-translate-y-[1px] before:-translate-y-[1px]",[e.expand?"before:-rotate-45 before:-translate-x-[2px] after:rotate-45 after:translate-x-[2px]":"before:rotate-45 before:-translate-x-[2px] after:-rotate-45 after:translate-x-[2px]",t(a).isMenuPopup&&e.level===0&&"opacity-0",t(a).isMenuPopup&&e.level!==0&&"-rotate-90 -top-[1.5px]"]])},null,2)):l("",!0)]}),_:2},1040,["class","title"]))]}),_:2},1032,["disabled","text","side"])]}),_:1},8,["to"])],2)}}}),ee=U(_,[["__scopeId","data-v-b2e08444"]]),oe=Object.freeze(Object.defineProperty({__proto__:null,default:ee},Symbol.toStringTag,{value:"Module"}));export{ee as I,oe as i,Y as r};
