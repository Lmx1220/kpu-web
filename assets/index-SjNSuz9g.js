
/**
 * 由 admin 提供技术支持
 * Powered by admin
 * 代码仓库
 * Github https://github.com/Lmx1220/kpu-web
 */
    
import{_ as P}from"./index.vue_vue_type_script_setup_true_lang-CjgLcnfR.js";import{_ as D}from"./index.vue_vue_type_script_setup_true_lang-Cmc5FAQ9.js";import{d as M,k as K,u as U,Q as j,aI as p,cd as H,o as r,a as l,i as o,w as s,e as b,b as n,M as t,N as I,S as w,bE as g,cm as Q}from"./bootstrap-CFLGDgEx.js";import{b as C}from"./route-block-B_A1xBdJ.js";import"./index-CWw-wBac.js";const q={key:0},z={key:1},F={class:"flex-col-start gap-2"},J=M({__name:"index",setup(L){const B=K(),x=U(),m=j(),{auth:S,authAll:V}=Q();async function $(u){await m.login({username:u,password:""}),await m.getPermissions()}function R(){B.push({name:"permissionExampleTest"})}function k(u){S(u)?g.success("校验通过"):g.error("校验不通过")}function T(u){V(u)?g.success("校验通过"):g.error("校验不通过")}return(u,e)=>{const A=D,E=p("ElRadioButton"),G=p("ElRadioGroup"),a=p("ElButton"),i=p("ElTag"),f=p("Auth"),y=p("ElButtonGroup"),N=P,v=H("auth");return r(),l("div",null,[o(A,{title:"权限验证"}),o(N,null,{default:s(()=>[b(x).settings.app.enablePermission?(r(),l("div",z,[e[25]||(e[25]=n("h3",null,"切换帐号",-1)),o(G,{modelValue:b(m).account,"onUpdate:modelValue":e[0]||(e[0]=d=>b(m).account=d),onChange:$},{default:s(()=>[o(E,{value:"kpu"},{default:s(()=>e[5]||(e[5]=[t(" admin ")])),_:1}),o(E,{value:"test"},{default:s(()=>e[6]||(e[6]=[t(" test ")])),_:1}),o(E,{value:"hooray"},{default:s(()=>e[7]||(e[7]=[t(" hooray(无权限) ")])),_:1})]),_:1},8,["modelValue"]),e[26]||(e[26]=n("h3",null,"帐号权限",-1)),n("div",null,I(b(m).permissions),1),e[27]||(e[27]=n("h3",null,"访问鉴权页面",-1)),n("div",null,[o(a,{onClick:R},{default:s(()=>e[8]||(e[8]=[t(" 点击访问 ")])),_:1})]),e[28]||(e[28]=n("h3",null,"鉴权指令（请对照代码查看）",-1)),n("div",null,[w((r(),l("div",null,e[9]||(e[9]=[t(" 如果你有 permission.browse 权限则能看到这句话 ")]))),[[v,"permission.browse"]]),w((r(),l("div",null,e[10]||(e[10]=[t(" 如果你有 permission.create 权限则能看到这句话 ")]))),[[v,"permission.create"]]),w((r(),l("div",null,e[11]||(e[11]=[t(" 如果你有 permission.browse 或 permission.create 权限则能看到这句话 ")]))),[[v,["permission.browse","permission.create"]]]),w((r(),l("div",null,e[12]||(e[12]=[t(" 如果你有 permission.browse 和 permission.create 权限则能看到这句话 ")]))),[[v,["permission.browse","permission.create"],void 0,{all:!0}]])]),e[29]||(e[29]=n("h3",null,"鉴权组件（请对照代码查看）",-1)),n("div",F,[o(f,{value:"permission.browse"},{"no-auth":s(()=>[o(i,{type:"danger"},{default:s(()=>e[14]||(e[14]=[t(" 你没有 permission.browse 权限 ")])),_:1})]),default:s(()=>[o(i,null,{default:s(()=>e[13]||(e[13]=[t("你有 permission.browse 权限")])),_:1})]),_:1}),o(f,{value:"permission.create"},{"no-auth":s(()=>[o(i,{type:"danger"},{default:s(()=>e[16]||(e[16]=[t(" 你没有 permission.create 权限 ")])),_:1})]),default:s(()=>[o(i,null,{default:s(()=>e[15]||(e[15]=[t("你有 permission.create 权限")])),_:1})]),_:1}),o(f,{value:["permission.browse","permission.create"]},{"no-auth":s(()=>[o(i,{type:"danger"},{default:s(()=>e[18]||(e[18]=[t(" 你没有 permission.browse 或 permission.create 权限 ")])),_:1})]),default:s(()=>[o(i,null,{default:s(()=>e[17]||(e[17]=[t("你有 permission.browse 或 permission.create 权限")])),_:1})]),_:1}),o(f,{value:["permission.browse","permission.create"],all:""},{"no-auth":s(()=>[o(i,{type:"danger"},{default:s(()=>e[20]||(e[20]=[t(" 你没有 permission.browse 和 permission.create 权限 ")])),_:1})]),default:s(()=>[o(i,null,{default:s(()=>e[19]||(e[19]=[t("你有 permission.browse 和 permission.create 权限")])),_:1})]),_:1})]),e[30]||(e[30]=n("h3",null,"鉴权函数（请对照代码查看）",-1)),n("div",null,[o(y,{style:{display:"block","margin-bottom":"10px"}},{default:s(()=>[o(a,{onClick:e[1]||(e[1]=d=>k("permission.browse"))},{default:s(()=>e[21]||(e[21]=[t(" 校验 permission.browse 权限 ")])),_:1}),o(a,{onClick:e[2]||(e[2]=d=>k("permission.create"))},{default:s(()=>e[22]||(e[22]=[t(" 校验 permission.create 权限 ")])),_:1})]),_:1}),o(y,null,{default:s(()=>[o(a,{onClick:e[3]||(e[3]=d=>k(["permission.browse","permission.create"]))},{default:s(()=>e[23]||(e[23]=[t(" 校验 permission.browse 或 permission.create 权限 ")])),_:1}),o(a,{onClick:e[4]||(e[4]=d=>T(["permission.browse","permission.create"]))},{default:s(()=>e[24]||(e[24]=[t(" 校验 permission.browse 和 permission.create 权限 ")])),_:1})]),_:1})])])):(r(),l("div",q," 请到 seeting.js 里打开权限功能，再进入该页面查看演示 "))]),_:1})])}}});typeof C=="function"&&C(J);export{J as default};
