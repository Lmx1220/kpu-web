
/**
 * 由 admin 提供技术支持
 * Powered by admin
 * 代码仓库
 * Github https://github.com/Lmx1220/kpu-web
 */
    
import{d as S,o as T,b as V,V as L,f as s,n as D,$ as I,ag as K,r as N,e as c,y as m,j as e,w as a,Z as g,T as h,x as $,p as R}from"./index-putfknEa.js";import{_ as j}from"./index.vue_vue_type_script_setup_true_lang-qpzXzidc.js";import{_ as z}from"./index-DaouMrR2.js";import{d as E,u as A,t as Z,o as q,s as p,_ as w,a as v,c as x,F as y}from"./vee-validate-zod-DFzDRMRC.js";const G=["id"],H=S({__name:"FormDescription",props:{class:{}},setup(d){const u=d,{formDescriptionId:_}=E();return(i,t)=>(T(),V("p",{id:s(_),class:D(s(I)("text-sm text-muted-foreground",u.class))},[L(i.$slots,"default")],10,G))}}),J={class:"min-h-500px w-full flex-col-stretch-center p-12"},M={class:"mb-8 space-y-2"},O={class:"text-4xl color-[var(--el-text-color-primary)] font-bold"},Q={class:"mt-4 flex-center gap-2 text-sm"},U={class:"text-secondary-foreground op-50"},es=S({name:"RegisterForm",__name:"index",props:{account:{}},emits:["onLogin","onRegister"],setup(d,{emit:u}){const _=d,i=u,{t}=K(),b=N(!1),F=A({validationSchema:Z(q({account:p().min(1,t("registerForm.rules.account")),captcha:p().min(6,t("registerForm.rules.captcha")),password:p().min(1,t("registerForm.rules.password")).min(6,t("registerForm.rules.passwordLength")).max(18,t("registerForm.rules.passwordLength")),checkPassword:p().min(1,t("registerForm.rules.checkPassword"))}).refine(l=>l.password===l.checkPassword,{message:t("registerForm.rules.checkPasswordError"),path:["checkPassword"]})),initialValues:{account:_.account??"",captcha:"",password:"",checkPassword:""}}),k=F.handleSubmit(l=>{b.value=!0,i("onRegister",l.account)});return(l,r)=>{const f=z,B=j,P=R;return T(),V("div",J,[c("form",{onSubmit:r[1]||(r[1]=(...o)=>s(k)&&s(k)(...o))},[c("div",M,[c("h3",O,m(s(t)("registerForm.intro")),1),r[2]||(r[2]=c("p",{class:"text-sm text-muted-foreground lg:text-base"}," 演示系统未提供该功能 ",-1))]),e(s(y),{name:"account"},{default:a(({componentField:o,errors:n})=>[e(s(w),{class:"relative pb-6 space-y-0"},{default:a(()=>[e(s(v),null,{default:a(()=>[e(f,g({type:"text",placeholder:s(t)("registerForm.form.account"),class:["w-full",n.length&&"border-destructive"]},o),null,16,["placeholder","class"])]),_:2},1024),e(h,{"enter-active-class":"transition-opacity","enter-from-class":"opacity-0","leave-active-class":"transition-opacity","leave-to-class":"opacity-0"},{default:a(()=>[e(s(x),{class:"absolute bottom-1 text-xs"})]),_:1})]),_:2},1024)]),_:1}),e(s(y),{name:"password"},{default:a(({componentField:o,value:n,errors:C})=>[e(s(w),{class:"relative pb-6 space-y-0"},{default:a(()=>[e(s(v),null,{default:a(()=>[e(f,g({type:"password",placeholder:s(t)("registerForm.form.password"),class:["w-full",C.length&&"border-destructive"]},o),null,16,["placeholder","class"])]),_:2},1024),e(s(H),null,{default:a(()=>[e(B,{password:n,class:"mt-2"},null,8,["password"])]),_:2},1024),e(h,{"enter-active-class":"transition-opacity","enter-from-class":"opacity-0","leave-active-class":"transition-opacity","leave-to-class":"opacity-0"},{default:a(()=>[e(s(x),{class:"absolute bottom-1 text-xs"})]),_:1})]),_:2},1024)]),_:1}),e(s(y),{name:"checkPassword"},{default:a(({componentField:o,errors:n})=>[e(s(w),{class:"relative pb-6 space-y-0"},{default:a(()=>[e(s(v),null,{default:a(()=>[e(f,g({type:"password",placeholder:s(t)("registerForm.form.checkPassword"),class:["w-full",n.length&&"border-destructive"]},o),null,16,["placeholder","class"])]),_:2},1024),e(h,{"enter-active-class":"transition-opacity","enter-from-class":"opacity-0","leave-active-class":"transition-opacity","leave-to-class":"opacity-0"},{default:a(()=>[e(s(x),{class:"absolute bottom-1 text-xs"})]),_:1})]),_:2},1024)]),_:1}),e(P,{loading:s(b),size:"lg",class:"mt-4 w-full",type:"submit"},{default:a(()=>[$(m(s(t)("registerForm.form.register")),1)]),_:1},8,["loading"]),c("div",Q,[c("span",U,m(s(t)("registerForm.hasAccount")),1),e(P,{variant:"link",class:"h-auto p-0",onClick:r[0]||(r[0]=o=>i("onLogin",s(F).values.account))},{default:a(()=>[$(m(s(t)("registerForm.login")),1)]),_:1})])],32)])}}});export{es as _};
