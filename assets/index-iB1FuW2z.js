
/**
 * 由 admin 提供技术支持
 * Powered by admin
 * 代码仓库
 * Github https://github.com/Lmx1220/kpu-web
 */
    
import{d as k,X as I,r as c,G as l,o as R,h as C,w as r,e as f,v as d,f as e,j as s,t as w,ah as B,P as L,_ as q,l as N}from"./index-fOXGxjjY.js";const S={class:"mb-8 text-xl color-[var(--el-text-color-primary)] font-bold"},U={class:"mt-4 flex-center gap-2 text-sm color-[var(--el-text-color-secondary)]"},M=k({name:"ResetPasswordForm",__name:"index",props:{account:{}},emits:["onLogin","onResetPassword"],setup(P,{emit:h}){const F=P,_=h,{t:o}=I(),v=c(!1),g=c(),a=c({account:F.account??localStorage.login_account??"",captcha:"",newPassword:""}),y=c({account:[{required:!0,trigger:"blur",message:o("resetPasswordForm.rules.account")}],captcha:[{required:!0,trigger:"blur",message:o("resetPasswordForm.rules.captcha")}],newPassword:[{required:!0,trigger:"blur",message:o("resetPasswordForm.rules.newPassword")},{min:6,max:18,trigger:"blur",message:o("resetPasswordForm.rules.newPasswordLength")}]});function b(){var m;L({message:o(""),type:"info"}),(m=g.value)==null||m.validate(t=>{t&&_("onResetPassword",a.value.account)})}return(m,t)=>{const i=q,p=l("ElInput"),u=l("ElFormItem"),x=l("ElButton"),V=l("ElLink"),E=l("ElForm");return R(),C(E,{ref_key:"formRef",ref:g,model:e(a),rules:e(y),class:"min-h-500px w-full flex-col-stretch-center p-12"},{default:r(()=>[f("h3",S,d(e(o)("resetPasswordForm.intro")),1),f("div",null,[s(u,{prop:"account"},{default:r(()=>[s(p,{modelValue:e(a).account,"onUpdate:modelValue":t[0]||(t[0]=n=>e(a).account=n),placeholder:e(o)("resetPasswordForm.form.account"),type:"text",tabindex:"1"},{prefix:r(()=>[s(i,{name:"i-ri:user-3-fill"})]),_:1},8,["modelValue","placeholder"])]),_:1}),s(u,{prop:"captcha"},{default:r(()=>[s(p,{modelValue:e(a).captcha,"onUpdate:modelValue":t[1]||(t[1]=n=>e(a).captcha=n),placeholder:e(o)("resetPasswordForm.form.captcha"),type:"text",tabindex:"2"},{prefix:r(()=>[s(i,{name:"i-ic:baseline-verified-user"})]),append:r(()=>[s(x,null,{default:r(()=>[w(d(e(o)("resetPasswordForm.form.sendCaptcha")),1)]),_:1})]),_:1},8,["modelValue","placeholder"])]),_:1}),s(u,{prop:"newPassword"},{default:r(()=>[s(p,{modelValue:e(a).newPassword,"onUpdate:modelValue":t[2]||(t[2]=n=>e(a).newPassword=n),type:"password",placeholder:e(o)("resetPasswordForm.form.newPassword"),tabindex:"3","show-password":""},{prefix:r(()=>[s(i,{name:"i-ri:lock-2-fill"})]),_:1},8,["modelValue","placeholder"])]),_:1})]),s(x,{loading:e(v),type:"primary",size:"large",style:{width:"100%","margin-top":"20px"},onClick:B(b,["prevent"])},{default:r(()=>[w(d(e(o)("resetPasswordForm.form.confirm")),1)]),_:1},8,["loading"]),f("div",U,[s(V,{type:"primary",underline:!1,onClick:t[3]||(t[3]=n=>_("onLogin",e(a).account))},{default:r(()=>[w(d(e(o)("resetPasswordForm.login")),1)]),_:1})])]),_:1},8,["model","rules"])}}}),j=N(M,[["__scopeId","data-v-ba01b3ac"]]);export{j as default};
