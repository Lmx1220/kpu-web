
/**
 * 由 admin 提供技术支持
 * Powered by admin
 * 代码仓库
 * Github https://github.com/Lmx1220/kpu-web
 */
    
import{d as U,ap as A,aq as j,bU as q,r as _,bQ as h,c as w,o as d,h as y,w as r,e as u,j as o,b as g,m as S,f as e,F as P,ah as k,V as D,_ as E,p as H,aU as Q,n as b,y as C,s as R,ad as T}from"./index-putfknEa.js";import{_ as G}from"./index.vue_vue_type_script_setup_true_lang-BYjOVmS1.js";import{_ as J}from"./index.vue_vue_type_script_setup_true_lang-CrH7osH_.js";import{_ as O}from"./index.vue_vue_type_script_setup_true_lang-BFI_3D6O.js";import{_ as W}from"./index-DaouMrR2.js";import{_ as X}from"./index.vue_vue_type_script_setup_true_lang-CjtEiaWg.js";const Y={class:"h-500px w-600px flex-center of-hidden rounded-md"},Z=["onClick"],ee={class:"text-base text-accent-foreground leading-tight"},ne={class:"text-xs text-accent-foreground/50"},ae={class:"h-full flex-col-center flex-1 p-6"},oe={class:"search-bar"},le={class:"grid grid-cols-7 grid-rows-7 my-2 w-full flex-1 place-items-center gap-1"},se=U({name:"KIconPicker",__name:"index",props:A({size:{default:"default"}},{modelValue:{default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(I){const n=j(I,"modelValue"),v=q(),p=_(!1),m=_(h.some(t=>t.prefix===n.value.split(":")[0])?n.value.split(":")[0]:h[0].prefix),l=_(""),s=_({page:1,pageSize:48}),f=w(()=>{let t=h.filter(i=>i.prefix===m.value)[0].icons;return l.value&&(t=t.filter(i=>i.includes(l.value))),t}),x=w(()=>f.value.slice((s.value.page-1)*s.value.pageSize,(s.value.page-1)*s.value.pageSize+s.value.pageSize));function $(t){n.value=t,p.value=!1}function c(){n.value="",p.value=!1}function B(t){m.value=t,s.value.page=1}return(t,i)=>{const V=E,z=H,M=Q,F=W,L=O,N=J;return d(),y(N,{"collision-padding":5,class:"p-0"},{panel:r(()=>[u("div",Y,[o(M,{scrollbar:!1,mask:"",class:"h-full w-150px shrink-0 border-r"},{default:r(()=>[(d(!0),g(P,null,S(e(h),a=>(d(),g("div",{key:a.prefix,class:b(["cursor-pointer px-4 py-3 transition-background-color space-y-2 hover-bg-accent/50",{"bg-accent hover-bg-accent!":a.prefix===e(m)}]),onClick:K=>B(a.prefix)},[u("div",ee,C(a.info.name),1),u("div",ne,C(a.info.total)+" 个 ",1)],10,Z))),128))]),_:1}),u("div",ae,[u("div",oe,[o(F,{modelValue:e(l),"onUpdate:modelValue":i[1]||(i[1]=a=>k(l)?l.value=a:null),placeholder:"搜索..."},null,8,["modelValue"])]),u("div",le,[o(z,{class:"h-12 w-12",size:"icon",variant:"outline",onClick:c},{default:r(()=>[o(V,{name:"i-ep:delete",size:24,class:"opacity-20"})]),_:1}),(d(!0),g(P,null,S(e(x),(a,K)=>(d(),y(z,{key:K,variant:"ghost",size:"icon",class:"h-12 w-12 [&_svg]:size-inherit",onClick:ue=>$(`${e(m)}:${a}`)},{default:r(()=>[o(V,{name:`${e(m)}:${a}`,size:24},null,8,["name"])]),_:2},1032,["onClick"]))),128))]),o(L,{page:e(s).page,"onUpdate:page":i[2]||(i[2]=a=>e(s).page=a),size:e(s).pageSize,total:e(f).length,onPageChange:i[3]||(i[3]=a=>e(s).page=a)},null,8,["page","size","total"])])])]),default:r(()=>[D(t.$slots,"default",{icon:n.value},()=>[o(z,{variant:"outline",class:b(["&_svg]:size-inherit",{empty:n.value==="",[`icon-picker--${t.size}`]:!0,"is-disabled":e(v).disabled===!0}]),size:"icon",onClick:i[0]||(i[0]=a=>p.value=!0)},{default:r(()=>[o(V,{name:n.value!==""&&n.value!=null?n.value:"i-whh:googleplusold",size:16,class:b({"opacity-20":n.value===""})},null,8,["name","class"])]),_:1},8,["class"])],!0)]),_:3})}}}),te=R(se,[["__scopeId","data-v-ce6e1e80"]]),ie={mb4:""},ce={class:"flex-center-start inline-flex cursor-pointer gap-2 border rounded-full px-3 py-1"},re={key:1,class:"text-sm"},ge=U({name:"Iconpicker",__name:"iconpicker",setup(I){const n=_(""),v=_("ep:success-filled"),p=_("");return(m,l)=>{const s=X,f=te,x=G,$=T;return d(),g("div",null,[o(s,{title:"图标选择器",content:"KIconPicker"}),o(x,null,{default:r(()=>[u("div",ie,[o(f,{modelValue:e(n),"onUpdate:modelValue":l[0]||(l[0]=c=>k(n)?n.value=c:null)},null,8,["modelValue"])]),u("div",null,[o(f,{modelValue:e(v),"onUpdate:modelValue":l[1]||(l[1]=c=>k(v)?v.value=c:null)},null,8,["modelValue"])])]),_:1}),o(x,{title:"尺寸"},{default:r(()=>[o(f,{modelValue:e(p),"onUpdate:modelValue":l[2]||(l[2]=c=>k(p)?p.value=c:null)},{default:r(({icon:c})=>[u("div",ce,[e(n)?(d(),y($,{key:0,name:c},null,8,["name"])):(d(),g("div",re,C(e(n)||"请选择图标"),1))])]),_:1},8,["modelValue"])]),_:1})])}}});export{ge as default};
