
/**
 * ç”± admin æä¾›æŠ€æœ¯æ”¯æŒ
 * Powered by admin
 * ä»£ç ä»“åº“
 * Github https://github.com/Lmx1220/kpu-web
 */
    
import{_ as Y}from"./index.vue_vue_type_script_setup_true_lang-JSamPz0j.js";import{_ as ee}from"./index.vue_vue_type_script_setup_true_lang-BpS_7Bsf.js";import{d as oe,u as te,a as le,b as ae,c as se,r as u,s as h,e as w,f as re,h as e,w as t,i as s,j as o,k as S,v as F,p as ne,l as ie,m as ue,o as de,t as L,n as pe,q as i,x as q,y as $,_ as ce,z as me}from"./index-D6ceO_Rb.js";import ge from"./index-DRiJweCy.js";import"./HDropdownMenu.vue_vue_type_script_setup_true_lang-D7zjQdsi.js";const b=x=>(ne("data-v-0ae891bc"),x=x(),ie(),x),fe=b(()=>s("div",{class:"bg-banner"},null,-1)),_e={id:"login-box"},we={class:"login-banner"},ve=["src"],he=["src"],be={class:"title-container"},xe={class:"title"},ye={class:"flex-bar"},ke={class:"sub-link"},Ve=b(()=>s("span",{class:"text"},"è¿˜æ²¡æœ‰å¸å·?",-1)),Re={style:{"margin-top":"20px","margin-bottom":"-20px","text-align":"center"}},Ce=b(()=>s("div",{class:"title-container"},[s("h3",{class:"title"}," æŽ¢ç´¢ä»Žè¿™é‡Œå¼€å§‹! ðŸš€ ")],-1)),Ee={class:"sub-link"},Ue=b(()=>s("span",{class:"text"},"å·²ç»æœ‰å¸å·?",-1)),Se=b(()=>s("div",{class:"title-container"},[s("h3",{class:"title"}," å¿˜è®°å¯†ç äº†? ðŸ”’ ")],-1)),Fe={class:"sub-link"},qe=oe({name:"Login",__name:"login",setup(x){var P;const{t:k}=ue(),z=new URL(""+new URL("logo-BGVN89r2.png",import.meta.url).href,import.meta.url).href,B=new URL(""+new URL("login-banner-ZfMZACb6.png",import.meta.url).href,import.meta.url).href,D="kpu-web",N=te(),A=le(),K=ae(),M=se(),m=u("login"),v=u(!1),T=u(((P=N.query.redirect)==null?void 0:P.toString())??M.settings.home.fullPath),V=u(),r=u({account:h.local.get("login_account")??"",password:"",remember:h.local.has("login_account")}),Z=u({account:[{required:!0,trigger:"blur",message:"è¯·è¾“å…¥ç”¨æˆ·å"}],password:[{required:!0,trigger:"blur",message:"è¯·è¾“å…¥å¯†ç "}]});function R(){V.value&&V.value.validate(f=>{if(f){v.value=!0;try{K.login({username:r.value.account,password:r.value.password}).then(()=>{v.value=!1,r.value.remember?h.local.set("login_account",r.value.account??""):h.local.remove("login_account"),A.push(T.value)}).catch(()=>{v.value=!1})}catch(l){console.error(l)}}})}const C=u(),d=u({account:"",captcha:"",password:"",checkPassword:""}),j=u({account:[{required:!0,trigger:"blur",message:"è¯·è¾“å…¥ç”¨æˆ·å"}],captcha:[{required:!0,trigger:"blur",message:"è¯·è¾“å…¥éªŒè¯ç "}],password:[{required:!0,trigger:"blur",message:"è¯·è¾“å…¥å¯†ç "}],checkPassword:[{required:!0,trigger:"blur",message:"è¯·å†æ¬¡è¾“å…¥å¯†ç "},{validator:(f,l,n)=>{l!==d.value.password?n(new Error("ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´")):n()}}]});function G(){$.warning("æ³¨å†Œæ¨¡å—ä»…æä¾›ç•Œé¢æ¼”ç¤ºï¼Œæ— å®žé™…åŠŸèƒ½ï¼Œéœ€å¼€å‘è€…è‡ªè¡Œæ‰©å±•"),C.value&&C.value.validate(f=>{})}const E=u(),g=u({account:h.local.get("login_account")??"",captcha:"",newPassword:""}),H=u({account:[{required:!0,trigger:"blur",message:"è¯·è¾“å…¥ç”¨æˆ·å"}],captcha:[{required:!0,trigger:"blur",message:"è¯·è¾“å…¥éªŒè¯ç "}],newPassword:[{required:!0,trigger:"blur",message:"è¯·è¾“å…¥æ–°å¯†ç "}]});function J(){$.warning("é‡ç½®å¯†ç æ¨¡å—ä»…æä¾›ç•Œé¢æ¼”ç¤ºï¼Œæ— å®žé™…åŠŸèƒ½ï¼Œéœ€å¼€å‘è€…è‡ªè¡Œæ‰©å±•"),E.value&&E.value.validate(f=>{})}function I(f){r.value.account=f,r.value.password="kpu",R()}return(f,l)=>{const n=ce,O=ee,p=w("ElInput"),c=w("ElFormItem"),Q=w("ElCheckbox"),y=w("ElLink"),_=w("ElButton"),W=w("ElDivider"),U=w("ElForm"),X=Y;return de(),re("div",null,[fe,e(O,{class:"i18n-selector"},{default:t(()=>[e(n,{name:"i-ri:translate"})]),_:1}),s("div",_e,[s("div",we,[s("img",{src:o(z),class:"logo"},null,8,ve),s("img",{src:o(B),class:"banner"},null,8,he)]),S(e(U,{ref_key:"loginFormRef",ref:V,model:o(r),rules:o(Z),class:"login-form",autocapitalize:"on"},{default:t(()=>[s("div",be,[s("h3",xe," æ¬¢è¿Žæ¥åˆ° "+L(o(D))+" ! ðŸ‘‹ðŸ» ",1)]),s("div",null,[e(c,{prop:"account"},{default:t(()=>[e(p,{modelValue:o(r).account,"onUpdate:modelValue":l[0]||(l[0]=a=>o(r).account=a),placeholder:o(k)("app.account"),autocomplete:"on",tabindex:"1",text:""},{prefix:t(()=>[e(n,{name:"i-ri:user-3-fill"})]),_:1},8,["modelValue","placeholder"])]),_:1}),e(c,{prop:"password"},{default:t(()=>[e(p,{modelValue:o(r).password,"onUpdate:modelValue":l[1]||(l[1]=a=>o(r).password=a),type:"password",placeholder:o(k)("app.password"),tabindex:"2",autocomplete:"on","show-password":"",onKeyup:pe(R,["enter"])},{prefix:t(()=>[e(n,{name:"i-ri:lock-2-fill"})]),_:1},8,["modelValue","placeholder"])]),_:1})]),s("div",ye,[e(Q,{modelValue:o(r).remember,"onUpdate:modelValue":l[2]||(l[2]=a=>o(r).remember=a)},{default:t(()=>[i(" è®°ä½æˆ‘ ")]),_:1},8,["modelValue"]),e(y,{underline:!1,type:"primary",onClick:l[3]||(l[3]=a=>m.value="reset")},{default:t(()=>[i(" å¿˜è®°å¯†ç äº†? ")]),_:1})]),e(_,{loading:o(v),size:"large",style:{width:"100%"},type:"primary",onClick:q(R,["prevent"])},{default:t(()=>[i(L(o(k)("app.login")),1)]),_:1},8,["loading"]),s("div",ke,[Ve,e(y,{underline:!1,type:"primary",onClick:l[4]||(l[4]=a=>m.value="register")},{default:t(()=>[i(" åˆ›å»ºæ–°å¸å· ")]),_:1})]),s("div",Re,[e(W,null,{default:t(()=>[i("æ¼”ç¤ºè´¦å·ä¸€é”®ç™»å½•")]),_:1}),e(_,{plain:"",size:"small",type:"primary",onClick:l[5]||(l[5]=a=>I("kpu"))},{default:t(()=>[i(" kpu ")]),_:1}),e(_,{plain:"",size:"small",onClick:l[6]||(l[6]=a=>I("test"))},{default:t(()=>[i(" test ")]),_:1})])]),_:1},8,["model","rules"]),[[F,o(m)==="login"]]),S(e(U,{ref_key:"registerFormRef",ref:C,model:o(d),rules:o(j),class:"login-form","auto-complete":"on"},{default:t(()=>[Ce,s("div",null,[e(c,{prop:"account"},{default:t(()=>[e(p,{modelValue:o(d).account,"onUpdate:modelValue":l[7]||(l[7]=a=>o(d).account=a),autocomplete:"on",placeholder:"ç”¨æˆ·å",tabindex:"1"},{prefix:t(()=>[e(n,{name:"ep:user"})]),_:1},8,["modelValue"])]),_:1}),e(c,{prop:"captcha"},{default:t(()=>[e(p,{modelValue:o(d).captcha,"onUpdate:modelValue":l[8]||(l[8]=a=>o(d).captcha=a),autocomplete:"on",placeholder:"éªŒè¯ç ",tabindex:"2"},{prefix:t(()=>[e(n,{name:"ep:key"})]),append:t(()=>[e(_,null,{default:t(()=>[i("å‘é€éªŒè¯ç ")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(c,{prop:"password"},{default:t(()=>[e(p,{modelValue:o(d).password,"onUpdate:modelValue":l[9]||(l[9]=a=>o(d).password=a),type:"password",placeholder:"å¯†ç ",tabindex:"3",autocomplete:"on","show-password":""},{prefix:t(()=>[e(n,{name:"ep:lock"})]),_:1},8,["modelValue"])]),_:1}),e(c,{prop:"checkPassword"},{default:t(()=>[e(p,{modelValue:o(d).checkPassword,"onUpdate:modelValue":l[10]||(l[10]=a=>o(d).checkPassword=a),type:"password",placeholder:"ç¡®è®¤å¯†ç ",tabindex:"4",autocomplete:"on","show-password":""},{prefix:t(()=>[e(n,{name:"ep:lock"})]),_:1},8,["modelValue"])]),_:1})]),e(_,{loading:o(v),type:"primary",size:"large",style:{width:"100%","margin-top":"20px"},onClick:q(G,["prevent"])},{default:t(()=>[i(" æ³¨å†Œ ")]),_:1},8,["loading"]),s("div",Ee,[Ue,e(y,{underline:!1,type:"primary",onClick:l[11]||(l[11]=a=>m.value="login")},{default:t(()=>[i(" åŽ»ç™»å½• ")]),_:1})])]),_:1},8,["model","rules"]),[[F,o(m)==="register"]]),S(e(U,{ref_key:"resetFormRef",ref:E,model:o(g),rules:o(H),class:"login-form","auto-complete":"on"},{default:t(()=>[Se,s("div",null,[e(c,{prop:"account"},{default:t(()=>[e(p,{modelValue:o(g).account,"onUpdate:modelValue":l[12]||(l[12]=a=>o(g).account=a),autocomplete:"on",placeholder:"ç”¨æˆ·å",tabindex:"1"},{prefix:t(()=>[e(n,{name:"ep:user"})]),_:1},8,["modelValue"])]),_:1}),e(c,{prop:"captcha"},{default:t(()=>[e(p,{modelValue:o(g).captcha,"onUpdate:modelValue":l[13]||(l[13]=a=>o(g).captcha=a),autocomplete:"on",placeholder:"éªŒè¯ç ",tabindex:"2"},{prefix:t(()=>[e(n,{name:"ep:key"})]),append:t(()=>[e(_,null,{default:t(()=>[i("å‘é€éªŒè¯ç ")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(c,{prop:"newPassword"},{default:t(()=>[e(p,{modelValue:o(g).newPassword,"onUpdate:modelValue":l[14]||(l[14]=a=>o(g).newPassword=a),type:"password",placeholder:"æ–°å¯†ç ",tabindex:"3",autocomplete:"on","show-password":""},{prefix:t(()=>[e(n,{name:"ep:lock"})]),_:1},8,["modelValue"])]),_:1})]),e(_,{loading:o(v),type:"primary",size:"large",style:{width:"100%","margin-top":"20px"},onClick:q(J,["prevent"])},{default:t(()=>[i(" ç¡®è®¤ ")]),_:1},8,["loading"]),s("div",Fe,[e(y,{underline:!1,type:"primary",onClick:l[15]||(l[15]=a=>m.value="login")},{default:t(()=>[i(" è¿”å›žç™»å½• ")]),_:1})])]),_:1},8,["model","rules"]),[[F,o(m)==="reset"]])]),e(ge),e(X,{class:"login-switcher"})])}}}),Be=me(qe,[["__scopeId","data-v-0ae891bc"]]);export{Be as default};
