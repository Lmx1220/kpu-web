
/**
 * 由 admin 提供技术支持
 * Powered by admin
 * 代码仓库
 * Github https://github.com/Lmx1220/kpu-web
 */
    
import{d as b,u as w,a as y,b8 as C,z as I,r as P,B as S,o,c as r,e as i,f as e,F as v,h as p,i as x,j as c,w as z,ad as B,v as $,ah as F,I as N,J as R,t as _,aL as V,_ as j,p as A,k as D,l as H}from"./index-fOXGxjjY.js";import{S as L}from"./sortable.esm-C0-Qcoum.js";const h=d=>(A("data-v-1da93284"),d=d(),D(),d),M={class:"favorites-container w-80"},T={class:"flex items-center justify-between px-4 py-3"},E=h(()=>i("div",{class:"text-sm font-bold"}," 我的收藏夹 ",-1)),J=["title","onClick"],U={class:"name flex-1 truncate pe-4"},q={class:"right-1 h-5 w-6 rounded-full text-stone-3 !absolute dark-text-stone-7 hover-text-stone-7 dark-hover-text-stone-3"},G={key:1,flex:"center col","py-6":"","text-stone-5":""},K=h(()=>i("p",{"m-2":"","text-base":""}," 收藏夹是空的 ",-1)),O={"m-0":"","flex-center":"","text-sm":"","op-75":""},Q=b({name:"FavoritesPanel",__name:"panel",setup(d){const l=w(),g=y(),t=C(),{generateI18nTitle:f}=I(),u=P();return S(()=>u.value,m=>{m&&new L(u.value,{animation:200,ghostClass:"draggable-ghost",draggable:".draggable-item",onUpdate:s=>{s.newIndex!==void 0&&s.oldIndex!==void 0&&t.sort(s.newIndex,s.oldIndex)}})}),(m,s)=>{const n=j;return o(),r("div",M,[i("div",T,[E,e(t).canAdd(e(l).fullPath)?(o(),r(v,{key:0},[e(t).isAdd(e(l).fullPath)?(o(),p(n,{key:1,class:"cursor-pointer text-xl",name:"i-mdi:star-remove",title:"从收藏夹删除",onClick:s[1]||(s[1]=a=>e(t).remove(e(l).fullPath))})):(o(),p(n,{key:0,class:"cursor-pointer text-xl",name:"i-mdi:star-plus-outline",title:"添加到收藏夹",onClick:s[0]||(s[0]=a=>e(t).add(e(l)))}))],64)):x("",!0)]),c(e(V),{options:{scrollbars:{autoHide:"leave",autoHideDelay:300}},defer:"",class:"max-h-220px"},{default:z(()=>[e(t).list.length>0?(o(),r("div",{key:0,ref_key:"favoritesContainerRef",ref:u,class:"flex flex-wrap items-center justify-between gap-2 px-4 pb-4"},[(o(!0),r(v,null,B(e(t).list,a=>(o(),r("div",{key:a.fullPath,title:e(f)(a.title),class:"draggable-item relative w-[calc(50%-0.25rem)] flex cursor-pointer items-center gap-1 rounded px-2 py-2 ring-1 ring-stone-3 ring-inset hover-bg-stone-1 dark-ring-stone-7 dark-hover-bg-dark/50",onClick:k=>e(g).push(a.fullPath)},[a.icon?(o(),p(n,{key:0,name:a.icon,size:18},null,8,["name"])):x("",!0),i("div",U,$(e(f)(a.title)),1),i("div",q,[c(n,{name:"i-ep:delete",size:14,onClick:F(k=>e(t).remove(a.fullPath),["stop"])},null,8,["onClick"])])],8,J))),128))],512)):(o(),r("div",G,[c(n,{name:"i-tabler:mood-empty",size:40}),K,N(i("p",O,[_(" 点击右上角 "),c(n,{name:"i-mdi:star-plus-outline",size:20,"mx-1":"","text-stone-6":"","dark-text-stone-4":""}),_(" 将当前页面添加到收藏夹 ")],512),[[R,e(t).canAdd(e(l).fullPath)]])]))]),_:1})])}}}),Y=H(Q,[["__scopeId","data-v-1da93284"]]);export{Y as default};
