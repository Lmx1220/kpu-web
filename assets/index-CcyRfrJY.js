
/**
 * 由 admin 提供技术支持
 * Powered by admin
 * 代码仓库
 * Github https://github.com/Lmx1220/kpu-web
 */
    
import{_ as D}from"./index.vue_vue_type_script_setup_true_lang-BYjOVmS1.js";import{_ as N}from"./index.vue_vue_type_script_setup_true_lang-CjtEiaWg.js";import{d as j,l as H,u as K,P as M,L as p,c4 as U,o as r,b as l,j as o,w as s,f as w,e as t,x as n,y as L,H as b,O as g,cg as O,Q as C}from"./index-putfknEa.js";const Q={key:0},q={key:1},z={class:"flex-col-start gap-2"},F=j({__name:"index",setup(I){const x=H(),B=K(),m=M(),{auth:S,authAll:V}=O();async function $(u){await m.login({username:u,password:""}),await m.getPermissions()}function P(){x.push({name:"permissionExampleTest"})}function k(u){S(u)?g.success("校验通过"):g.error("校验不通过")}function R(u){V(u)?g.success("校验通过"):g.error("校验不通过")}return(u,e)=>{const T=N,y=p("ElRadioButton"),A=p("ElRadioGroup"),a=p("ElButton"),i=p("ElTag"),f=p("Auth"),E=p("ElButtonGroup"),G=D,v=U("auth");return r(),l("div",null,[o(T,{title:"权限验证"}),o(G,null,{default:s(()=>[w(B).settings.app.enablePermission?(r(),l("div",q,[e[25]||(e[25]=t("h3",null,"切换帐号",-1)),o(A,{modelValue:w(m).account,"onUpdate:modelValue":e[0]||(e[0]=d=>w(m).account=d),onChange:$},{default:s(()=>[o(y,{value:"kpu"},{default:s(()=>e[5]||(e[5]=[n(" admin ")])),_:1}),o(y,{value:"test"},{default:s(()=>e[6]||(e[6]=[n(" test ")])),_:1}),o(y,{value:"hooray"},{default:s(()=>e[7]||(e[7]=[n(" hooray(无权限) ")])),_:1})]),_:1},8,["modelValue"]),e[26]||(e[26]=t("h3",null,"帐号权限",-1)),t("div",null,L(w(m).permissions),1),e[27]||(e[27]=t("h3",null,"访问鉴权页面",-1)),t("div",null,[o(a,{onClick:P},{default:s(()=>e[8]||(e[8]=[n(" 点击访问 ")])),_:1})]),e[28]||(e[28]=t("h3",null,"鉴权指令（请对照代码查看）",-1)),t("div",null,[b((r(),l("div",null,e[9]||(e[9]=[n(" 如果你有 permission.browse 权限则能看到这句话 ")]))),[[v,"permission.browse"]]),b((r(),l("div",null,e[10]||(e[10]=[n(" 如果你有 permission.create 权限则能看到这句话 ")]))),[[v,"permission.create"]]),b((r(),l("div",null,e[11]||(e[11]=[n(" 如果你有 permission.browse 或 permission.create 权限则能看到这句话 ")]))),[[v,["permission.browse","permission.create"]]]),b((r(),l("div",null,e[12]||(e[12]=[n(" 如果你有 permission.browse 和 permission.create 权限则能看到这句话 ")]))),[[v,["permission.browse","permission.create"],void 0,{all:!0}]])]),e[29]||(e[29]=t("h3",null,"鉴权组件（请对照代码查看）",-1)),t("div",z,[o(f,{value:"permission.browse"},{"no-auth":s(()=>[o(i,{type:"danger"},{default:s(()=>e[14]||(e[14]=[n(" 你没有 permission.browse 权限 ")])),_:1})]),default:s(()=>[o(i,null,{default:s(()=>e[13]||(e[13]=[n("你有 permission.browse 权限")])),_:1})]),_:1}),o(f,{value:"permission.create"},{"no-auth":s(()=>[o(i,{type:"danger"},{default:s(()=>e[16]||(e[16]=[n(" 你没有 permission.create 权限 ")])),_:1})]),default:s(()=>[o(i,null,{default:s(()=>e[15]||(e[15]=[n("你有 permission.create 权限")])),_:1})]),_:1}),o(f,{value:["permission.browse","permission.create"]},{"no-auth":s(()=>[o(i,{type:"danger"},{default:s(()=>e[18]||(e[18]=[n(" 你没有 permission.browse 或 permission.create 权限 ")])),_:1})]),default:s(()=>[o(i,null,{default:s(()=>e[17]||(e[17]=[n("你有 permission.browse 或 permission.create 权限")])),_:1})]),_:1}),o(f,{value:["permission.browse","permission.create"],all:""},{"no-auth":s(()=>[o(i,{type:"danger"},{default:s(()=>e[20]||(e[20]=[n(" 你没有 permission.browse 和 permission.create 权限 ")])),_:1})]),default:s(()=>[o(i,null,{default:s(()=>e[19]||(e[19]=[n("你有 permission.browse 和 permission.create 权限")])),_:1})]),_:1})]),e[30]||(e[30]=t("h3",null,"鉴权函数（请对照代码查看）",-1)),t("div",null,[o(E,{style:{display:"block","margin-bottom":"10px"}},{default:s(()=>[o(a,{onClick:e[1]||(e[1]=d=>k("permission.browse"))},{default:s(()=>e[21]||(e[21]=[n(" 校验 permission.browse 权限 ")])),_:1}),o(a,{onClick:e[2]||(e[2]=d=>k("permission.create"))},{default:s(()=>e[22]||(e[22]=[n(" 校验 permission.create 权限 ")])),_:1})]),_:1}),o(E,null,{default:s(()=>[o(a,{onClick:e[3]||(e[3]=d=>k(["permission.browse","permission.create"]))},{default:s(()=>e[23]||(e[23]=[n(" 校验 permission.browse 或 permission.create 权限 ")])),_:1}),o(a,{onClick:e[4]||(e[4]=d=>R(["permission.browse","permission.create"]))},{default:s(()=>e[24]||(e[24]=[n(" 校验 permission.browse 和 permission.create 权限 ")])),_:1})]),_:1})])])):(r(),l("div",Q," 请到 seeting.js 里打开权限功能，再进入该页面查看演示 "))]),_:1})])}}});typeof C=="function"&&C(F);export{F as default};
