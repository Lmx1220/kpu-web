
/**
 * 由 admin 提供技术支持
 * Powered by admin
 * 代码仓库
 * Github https://github.com/Lmx1220/kpu-web
 */
    
import{d as B,u as D,s as H,v as L,x as N,y as b,z as S,m as T,A as r,B as W,c as M,a as s,h as o,n as v,b as t,C as k,D as h,G as _,w as C,e as y,f as E,F as R,i as F,H as K,I as O,o as l,T as G,J,K as U,L as j,_ as q,k as Q}from"./index-BhImQte4.js";import{u as X}from"./watermark-Bqod_pvm.js";import Y from"./index-DPLKtL2j.js";import{_ as Z}from"./index.vue_vue_type_script_setup_true_lang-Ctvqv-ot.js";import ee from"./index-CXyh_48z.js";import te from"./index-DHgodATH.js";import ie from"./index-BL_kG2FZ.js";import{_ as oe}from"./index.vue_vue_type_script_setup_true_lang-D5nFXne1.js";import ae from"./index-DaBxvh4f.js";import se from"./index-CLVxjVIV.js";import{_ as ne}from"./index.vue_vue_type_script_setup_true_lang-PE77ZuY0.js";import me from"./iframe-DpI7yuFj.js";import re from"./link-wBNqyUh4.js";import{u as le}from"./useMainPage-BwXg9TmH.js";import"./HInput.vue_vue_type_script_setup_true_lang-DVDVt9WU.js";import"./HSelect.vue_vue_type_script_setup_true_lang-DJfLJrls.js";import"./HCheckList.vue_vue_type_script_setup_true_lang-BFZe8FTD.js";import"./HToggle.vue_vue_type_script_setup_true_lang-DrtWQ7H9.js";import"./use-resolve-button-type-DjhhBUSA.js";import"./HTabList.vue_vue_type_script_setup_true_lang-R4-ysXNr.js";import"./sortable.esm-Cw1ESr5Y.js";import"./index.vue_vue_type_script_setup_true_lang-BzjE9OaE.js";import"./logo-D-CqFC5K.js";import"./index.vue_vue_type_script_setup_true_lang-DCsVMxNg.js";import"./item-KlZxHQz-.js";import"./HBadge.vue_vue_type_script_setup_true_lang-DGUuYb-N.js";import"./sub.vue_vue_type_script_setup_true_lang-CG44NCqo.js";import"./index.vue_vue_type_script_setup_true_lang-Du9WEPVM.js";import"./item-CO4vfOLV.js";import"./sub.vue_vue_type_script_setup_true_lang-BENkEjB5.js";import"./rightSide.vue_vue_type_script_setup_true_lang-Dql26dRR.js";import"./HDropdownMenu.vue_vue_type_script_setup_true_lang-_Cia8Wf9.js";import"./tools.vue_vue_type_script_setup_true_lang-B37uG2kI.js";import"./index-BTaSqiYP.js";import"./index-BMYiZspj.js";import"./item.vue_vue_type_script_setup_true_lang-COpIiPmQ.js";import"./index.vue_vue_type_script_setup_true_lang-wL4JTh2y.js";import"./HDropdown-1XmtGKZa.js";import"./index.vue_vue_type_script_setup_true_lang-BaLqLKy4.js";import"./panel-D2rIZwtp.js";import"./index.vue_vue_type_script_setup_true_lang-Cz1s6Gff.js";import"./index-Cn1AmGCy.js";import"./index-eM7xRh8i.js";import"./index.vue_vue_type_script_setup_true_lang-BJO3EBSW.js";import"./HKbd-DFu3feUI.js";import"./index-B4RG6bMT.js";import"./notification-CgwVa-SY.js";import"./panel-wTP6aNQY.js";import"./index-DnreyAMz.js";import"./index-CADou3Ut.js";import"./moreAction-BsrNS35p.js";import"./useTabbar-BsdjO6eY.js";import"./index-CbzrzivP.js";import"./leftSide.vue_vue_type_script_setup_true_lang-B-gOX1p7.js";import"./HDialog.vue_vue_type_script_setup_true_lang-CLWYkMXl.js";const ue={class:"wrapper"},pe={class:"main"},de=B({name:"Layout",__name:"index",setup(ce){const u=F(),e=D(),x=H(),m=L();X();const f=le(),P=N(),z=b(()=>{let i=Number.parseInt(getComputedStyle(document.documentElement).getPropertyValue("--g-main-sidebar-width"));return(e.settings.menu.mode==="single"||["head","only-head","head-panel"].includes(e.settings.menu.mode)&&e.mode!=="mobile")&&(i=0),`${i}px`}),V=b(()=>{var a;let i=Number.parseInt(getComputedStyle(document.documentElement).getPropertyValue("--g-sub-sidebar-width"));return e.settings.menu.subMenuCollapse&&e.mode!=="mobile"&&(i=Number.parseInt(getComputedStyle(document.documentElement).getPropertyValue("--g-sub-sidebar-collapse-width"))),["only-side","only-head","side-panel","head-panel"].includes(e.settings.menu.mode)&&e.mode!=="mobile"&&(i=0),e.settings.menu.subMenuOnlyOneHide&&m.sidebarMenus.length===1&&(!m.sidebarMenus[0].children||(a=m.sidebarMenus[0])!=null&&a.children.every(p=>{var d;return((d=p.meta)==null?void 0:d.menu)===!1}))&&(i=0),`${i}px`}),w=b(()=>!!u.meta.iframe),g=b(()=>!!u.meta.link);S(()=>e.settings.menu.subMenuCollapse,i=>{e.mode==="mobile"&&(i?document.body.classList.remove("overflow-hidden"):document.body.classList.add("overflow-hidden"))}),S(()=>u.path,()=>{e.mode==="mobile"&&e.$patch(i=>{i.settings.menu.subMenuCollapse=!0})}),T(()=>{r("f5",i=>{e.settings.toolbar.pageReload&&(i.preventDefault(),f.reload())}),r("alt+`",i=>{e.settings.menu.enableHotkeys&&(i.preventDefault(),P.switchTo(m.actived+1<m.allMenus.length?m.actived+1:0))}),r("alt+up,alt+down",(i,a)=>{switch(i.preventDefault(),a.key){case"alt+up":f.maximize(!0);break;case"alt+down":f.maximize(!1);break}})}),W(()=>{r.unbind("f5"),r.unbind("alt+`"),r.unbind("alt+up,alt+down")});let n;function $(){n==null||n(),e.setHoverSidebar(!0)}function I(){n==null||n(),{stop:n}=K(()=>{e.setHoverSidebar(!1)},300)}return(i,a)=>{const p=q,d=O("RouterView");return l(),M("div",{class:"layout",style:k({"--g-main-sidebar-actual-width":t(z),"--g-sub-sidebar-actual-width":t(V)})},[s("div",{id:"app-main",class:v({"main-page-maximize":t(e).mainPageMaximizeStatus})},[o(te),s("div",ue,[s("div",{class:v(["sidebar-container",{show:t(e).mode==="mobile"&&!t(e).settings.menu.subMenuCollapse}]),onMouseenter:$,onMouseleave:I},[o(ie),o(ae)],34),s("div",{class:v(["sidebar-mask",{show:t(e).mode==="mobile"&&!t(e).settings.menu.subMenuCollapse}]),onClick:a[0]||(a[0]=c=>t(e).toggleSidebarCollapse())},null,2),s("div",{class:"main-container",style:k({"padding-bottom":t(u).meta.paddingBottom})},[o(se),s("div",pe,[h(s("div",{class:"exit-main-page-maximize",onClick:a[1]||(a[1]=c=>t(e).setMainPageMaximize())},[o(p,{name:"i-ri:logout-box-line"})],512),[[_,t(e).mainPageMaximizeStatus]]),o(d,null,{default:C(({Component:c,route:A})=>[o(G,{name:t(e).settings.mainPage.enableTransition?t(e).settings.mainPage.transitionMode:"",mode:"out-in"},{default:C(()=>[(l(),y(U,{include:t(x).list},[h((l(),y(J(c),{key:A.fullPath})),[[_,!(t(w)||t(g))]])],1032,["include"]))]),_:2},1032,["name"])]),_:1}),h(o(me,null,null,512),[[_,t(w)&&!t(g)]]),t(g)?(l(),y(re,{key:0})):E("",!0)]),o(ee)],4)])],2),o(oe),o(ne),(l(),M(R,{key:0},[s("div",{class:"app-setting",onClick:a[2]||(a[2]=c=>t(j).emit("global-app-setting-toggle"))},[o(p,{name:"i-uiw:setting-o",class:"icon"})]),o(Y)],64)),o(Z)],4)}}}),ft=Q(de,[["__scopeId","data-v-51f44feb"]]);export{ft as default};
