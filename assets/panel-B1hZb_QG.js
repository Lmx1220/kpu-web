
/**
 * 由 admin 提供技术支持
 * Powered by admin
 * 代码仓库
 * Github https://github.com/Lmx1220/kpu-web
 */
    
import{d as b,k as w,l as C,bN as P,ag as I,B as S,r as $,C as B,o,b as i,e as l,y as d,f as e,F as _,h as f,i as g,j as p,w as F,m as N,H as z,I as A,x,_ as R,aU as V,bp as j,s as T}from"./index-putfknEa.js";import{S as D}from"./sortable.esm-C83syoBY.js";const M={class:"favorites-container w-80"},U={class:"flex items-center justify-between px-4 py-3"},E={class:"text-sm font-bold"},H=["title","onClick"],K={class:"flex-1 truncate pe-4 text-sm group-hover:[mask-image:linear-gradient(90deg,#000_calc(100%-80px),transparent)]"},L={class:"absolute right-2 h-5 w-5 rounded-full text-secondary-foreground hidden group-hover:flex-center hover:bg-secondary hover:ring-1"},q={key:1,class:"flex-col-center py-6 text-secondary-foreground"},G={class:"m-2 text-base"},J={class:"m-0 flex-center text-sm op-75"},O=b({name:"FavoritesPanel",__name:"panel",setup(Q){const c=w(),h=C(),t=P(),{t:n}=I(),{generateI18nTitle:m}=S(),u=$();return B(()=>u.value,v=>{v&&new D(u.value,{animation:200,ghostClass:"draggable-ghost",draggable:".draggable-item",onUpdate:s=>{s.newIndex!==void 0&&s.oldIndex!==void 0&&t.sort(s.newIndex,s.oldIndex)}})}),(v,s)=>{const r=R,y=V;return o(),i("div",M,[l("div",U,[l("div",E,d(e(n)("app.favorites.title")),1),e(t).canAdd(e(c).fullPath)?(o(),i(_,{key:0},[e(t).isAdd(e(c).fullPath)?(o(),f(r,{key:1,class:"cursor-pointer text-xl",name:"i-mdi:star-remove",title:e(n)("app.favorites.remove"),onClick:s[1]||(s[1]=a=>e(t).remove(e(c).fullPath))},null,8,["title"])):(o(),f(r,{key:0,class:"cursor-pointer text-xl",name:"i-mdi:star-plus-outline",title:e(n)("app.favorites.add"),onClick:s[0]||(s[0]=a=>e(t).add(e(c)))},null,8,["title"]))],64)):g("",!0)]),p(y,{class:"max-h-220px"},{default:F(()=>[e(t).list.length>0?(o(),i("div",{key:0,ref_key:"favoritesContainerRef",ref:u,class:"flex flex-wrap items-center justify-between gap-2 px-4 pb-4"},[(o(!0),i(_,null,N(e(t).list,a=>(o(),i("div",{key:a.fullPath,title:e(m)(a.title),class:"group draggable-item relative w-[calc(50%-0.25rem)] flex cursor-pointer items-center gap-1 rounded-lg px-2 py-2 ring-1 ring-border ring-inset hover-bg-accent",onClick:k=>e(h).push(a.fullPath)},[a.icon?(o(),f(r,{key:0,name:a.icon,size:18},null,8,["name"])):g("",!0),l("div",K,d(e(m)(a.title)),1),l("div",L,[p(r,{name:"i-ep:delete",size:14,onClick:j(k=>e(t).remove(a.fullPath),["stop"])},null,8,["onClick"])])],8,H))),128))],512)):(o(),i("div",q,[p(r,{name:"i-tabler:mood-empty",size:40}),l("p",G,d(e(n)("app.favorites.empty")),1),z(l("p",J,[x(d(e(n)("app.favorites.addToFavorites"))+" ",1),p(r,{name:"i-mdi:star-plus-outline",size:20,class:"mx-1 text-secondary-foreground"}),x(" "+d(e(n)("app.favorites.addCurrentPage")),1)],512),[[A,e(t).canAdd(e(c).fullPath)]])]))]),_:1})])}}}),Y=T(O,[["__scopeId","data-v-5f08c341"]]);export{Y as default};
